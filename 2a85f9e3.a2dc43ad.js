(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{161:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return l})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return i})),t.d(n,"default",(function(){return b}));var r=t(1),a=t(9),o=(t(0),t(220)),l={id:"tree",title:"\u6811 Tree"},c={id:"interview/data-structure/tree",title:"\u6811 Tree",description:"**\u6811**\uff08tree\uff09\u662f\u4e00\u79cd\u62bd\u8c61\u6570\u636e\u7c7b\u578b\uff08ADT\uff09\u6216\u662f\u5b9e\u73b0\u8fd9\u79cd\u62bd\u8c61\u6570\u636e\u7c7b\u578b\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7528\u6765\u6a21\u62df\u5177\u6709\u6811\u72b6\u7ed3\u6784\u6027\u8d28\u7684\u6570\u636e\u96c6\u5408\u3002",source:"@site/docs/interview/data-structure/tree.md",permalink:"/docs/interview/data-structure/tree",editUrl:"https://github.com/kenve/kenve.github.io/edit/docusaurus/docs/interview/data-structure/tree.md",sidebar:"interviewSideBar",previous:{title:"\u5b57\u5178\u548c\u6563\u5217\u8868",permalink:"/docs/interview/data-structure/dictionary-and-hashtable"},next:{title:"\u4e8c\u53c9\u5806\u548c\u5806\u6392\u5e8f",permalink:"/docs/interview/data-structure/binary-heap"}},i=[{value:"\u6811\u7684\u76f8\u5173\u672f\u8bed",id:"\u6811\u7684\u76f8\u5173\u672f\u8bed",children:[]},{value:"\u4e8c\u53c9\u6811\u548c\u4e8c\u53c9\u641c\u7d22\u6811",id:"\u4e8c\u53c9\u6811\u548c\u4e8c\u53c9\u641c\u7d22\u6811",children:[{value:"\u5b9e\u73b0\u4e8c\u53c9\u641c\u7d22\u6811",id:"\u5b9e\u73b0\u4e8c\u53c9\u641c\u7d22\u6811",children:[]}]},{value:"\u6811\u7684\u904d\u5386",id:"\u6811\u7684\u904d\u5386",children:[{value:"\u4e2d\u5e8f\u904d\u5386",id:"\u4e2d\u5e8f\u904d\u5386",children:[]},{value:"\u5148\u5e8f\u904d\u5386",id:"\u5148\u5e8f\u904d\u5386",children:[]},{value:"\u540e\u5e8f\u904d\u5386",id:"\u540e\u5e8f\u904d\u5386",children:[]}]},{value:"\u641c\u7d22\u6811\u4e2d\u7684\u503c",id:"\u641c\u7d22\u6811\u4e2d\u7684\u503c",children:[{value:"\u641c\u7d22\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c",id:"\u641c\u7d22\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c",children:[]},{value:"\u641c\u7d22\u4e00\u4e2a\u7279\u5b9a\u7684\u503c",id:"\u641c\u7d22\u4e00\u4e2a\u7279\u5b9a\u7684\u503c",children:[]},{value:"\u79fb\u9664\u4e00\u4e2a\u8282\u70b9",id:"\u79fb\u9664\u4e00\u4e2a\u8282\u70b9",children:[]}]},{value:"\u4e8c\u53c9\u641c\u7d22\u6811\uff08BinarySearchTree\uff09\u7684\u5b8c\u6574\u5b9e\u73b0",id:"\u4e8c\u53c9\u641c\u7d22\u6811\uff08binarysearchtree\uff09\u7684\u5b8c\u6574\u5b9e\u73b0",children:[]},{value:"\u81ea\u5e73\u8861\u6811",id:"\u81ea\u5e73\u8861\u6811",children:[{value:"Adelson-Velskii-Landi \u6811\uff08AVL \u6811\uff09",id:"adelson-velskii-landi-\u6811\uff08avl-\u6811\uff09",children:[]},{value:"AVL \u6811\uff08AVLTree\uff09\u7684\u5b8c\u6574\u5b9e\u73b0",id:"avl-\u6811\uff08avltree\uff09\u7684\u5b8c\u6574\u5b9e\u73b0",children:[]}]},{value:"\u7ea2\u9ed1\u6811",id:"\u7ea2\u9ed1\u6811",children:[{value:"\u7ea2\u9ed1\u6811\uff08RedBlackTree\uff09\u7684\u5b8c\u6574\u5b9e\u73b0",id:"\u7ea2\u9ed1\u6811\uff08redblacktree\uff09\u7684\u5b8c\u6574\u5b9e\u73b0",children:[]}]}],d={rightToc:i};function b(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},d,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"\u6811"),"\uff08tree\uff09\u662f\u4e00\u79cd\u62bd\u8c61\u6570\u636e\u7c7b\u578b\uff08ADT\uff09\u6216\u662f\u5b9e\u73b0\u8fd9\u79cd\u62bd\u8c61\u6570\u636e\u7c7b\u578b\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7528\u6765\u6a21\u62df\u5177\u6709\u6811\u72b6\u7ed3\u6784\u6027\u8d28\u7684\u6570\u636e\u96c6\u5408\u3002"),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"\u54c8\u5e0c\u8868\u548c\u6811\u90fd\u662f\u975e\u987a\u5e8f\u6570\u636e\u7ed3\u6784\u3002"))),Object(o.b)("h2",{id:"\u6811\u7684\u76f8\u5173\u672f\u8bed"},"\u6811\u7684\u76f8\u5173\u672f\u8bed"),Object(o.b)("p",null,"\u4e00\u4e2a\u6811\u7ed3\u6784\u5305\u542b\u4e00\u7cfb\u5217\u5b58\u5728\u7236\u5b50\u5173\u7cfb\u7684\u8282\u70b9\u3002\u6bcf\u4e2a\u8282\u70b9\u90fd\u6709\u4e00\u4e2a",Object(o.b)("strong",{parentName:"p"},"\u7236\u8282\u70b9"),"(\u9664\u4e86\u9876\u90e8\u7684\u7b2c\u4e00\u4e2a \u8282\u70b9)\u4ee5\u53ca\u96f6\u4e2a\u6216\u591a\u4e2a",Object(o.b)("strong",{parentName:"p"},"\u5b50\u8282\u70b9"),"\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-introduction.svg",alt:"\u6811\u7684\u76f8\u5173\u672f\u8bed\u56fe"}))),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"\u4f4d\u4e8e\u6811\u9876\u90e8\u7684\u8282\u70b9\u53eb\u4f5c",Object(o.b)("strong",{parentName:"li"},"\u6839\u8282\u70b9"),"(11)\u3002\u5b83\u6ca1\u6709\u7236\u8282\u70b9\u3002"),Object(o.b)("li",{parentName:"ul"},"\u6811\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u53eb\u4f5c",Object(o.b)("strong",{parentName:"li"},"\u8282\u70b9"),"\uff0c\u8282\u70b9\u5206\u4e3a",Object(o.b)("strong",{parentName:"li"},"\u5185\u90e8\u8282\u70b9"),"\u548c",Object(o.b)("strong",{parentName:"li"},"\u5916\u90e8\u8282\u70b9"),"\u3002\u81f3\u5c11\u6709\u4e00\u4e2a\u5b50\u8282\u70b9\u7684\u8282\u70b9\u79f0\u4e3a\u5185\u90e8\u8282\u70b9(7\u30015\u30019\u300115\u300113 \u548c 20 \u662f\u5185\u90e8 \u8282\u70b9)\u3002\u6ca1\u6709\u5b50\u5143\u7d20\u7684\u8282\u70b9\u79f0\u4e3a\u5916\u90e8\u8282\u70b9\u6216\u53f6\u8282\u70b9(3\u30016\u30018\u300110\u300112\u300114\u300118 \u548c 25 \u662f\u53f6\u8282\u70b9)\u3002"),Object(o.b)("li",{parentName:"ul"},"\u4e00\u4e2a\u8282\u70b9\u53ef\u4ee5\u6709\u7956\u5148\u548c\u540e\u4ee3\u3002\u4e00\u4e2a\u8282\u70b9(\u9664\u4e86\u6839\u8282\u70b9)\u7684\u7956\u5148\u5305\u62ec\u7236\u8282\u70b9\u3001\u7956\u7236\u8282\u70b9\u3001\u66fe\u7956 \u7236\u8282\u70b9\u7b49\u3002\u4e00\u4e2a\u8282\u70b9\u7684\u540e\u4ee3\u5305\u62ec\u5b50\u8282\u70b9\u3001\u5b59\u5b50\u8282\u70b9\u3001\u66fe\u5b59\u8282\u70b9\u7b49\u3002\u4f8b\u5982\uff0c\u8282\u70b9 5 \u7684\u7956\u5148\u6709\u8282\u70b9 7 \u548c\u8282\u70b9 11\uff0c\u540e\u4ee3\u6709\u8282\u70b9 3 \u548c\u8282\u70b9 6\u3002"),Object(o.b)("li",{parentName:"ul"},"\u6709\u5173\u6811\u7684\u53e6\u4e00\u4e2a\u672f\u8bed\u662f",Object(o.b)("strong",{parentName:"li"},"\u5b50\u6811"),"\u3002\u5b50\u6811\u7531\u8282\u70b9\u548c\u5b83\u7684\u540e\u4ee3\u6784\u6210\u3002\u4f8b\u5982\uff0c\u8282\u70b9 13\u300112 \u548c 14 \u6784\u6210\u4e86\u4e0a\u56fe\u4e2d\u6811\u7684\u4e00\u68f5\u5b50\u6811\u3002"),Object(o.b)("li",{parentName:"ul"},"\u8282\u70b9\u7684\u4e00\u4e2a\u5c5e\u6027\u662f",Object(o.b)("strong",{parentName:"li"},"\u6df1\u5ea6"),"\uff0c\u8282\u70b9\u7684\u6df1\u5ea6\u53d6\u51b3\u4e8e\u5b83\u7684\u7956\u5148\u8282\u70b9\u7684\u6570\u91cf\u3002\u6bd4\u5982\uff0c\u8282\u70b9 3 \u6709 3 \u4e2a\u7956\u5148 \u8282\u70b9(5\u30017 \u548c 11)\uff0c\u5b83\u7684\u6df1\u5ea6\u4e3a 3\u3002"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"\u6811\u7684\u9ad8\u5ea6"),"\u53d6\u51b3\u4e8e\u6240\u6709\u8282\u70b9\u6df1\u5ea6\u7684\u6700\u5927\u503c\u3002\u4e00\u68f5\u6811\u4e5f\u53ef\u4ee5\u88ab\u5206\u89e3\u6210\u5c42\u7ea7\u3002\u6839\u8282\u70b9\u5728\u7b2c 0 \u5c42\uff0c\u5b83 \u7684\u5b50\u8282\u70b9\u5728\u7b2c 1 \u5c42\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\u4e0a\u56fe\u4e2d\u7684\u6811\u7684\u9ad8\u5ea6\u4e3a 3(\u6700\u5927\u9ad8\u5ea6\u5df2\u5728\u56fe\u4e2d\u8868\u793a\u2014\u2014\u7b2c 3 \u5c42)\u3002")),Object(o.b)("h2",{id:"\u4e8c\u53c9\u6811\u548c\u4e8c\u53c9\u641c\u7d22\u6811"},"\u4e8c\u53c9\u6811\u548c\u4e8c\u53c9\u641c\u7d22\u6811"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"\u4e8c\u53c9\u6811"),"\u4e2d\u7684\u8282\u70b9\u6700\u591a\u53ea\u80fd\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\uff1a\u4e00\u4e2a\u662f\u5de6\u4fa7\u5b50\u8282\u70b9\uff0c\u53e6\u4e00\u4e2a\u662f\u53f3\u4fa7\u5b50\u8282\u70b9\u3002\u8fd9\u4e2a\u5b9a\u4e49\u6709\u52a9\u4e8e\u6211\u4eec\u5199\u51fa\u66f4\u9ad8\u6548\u5730\u5728\u6811\u4e2d\u63d2\u5165\u3001\u67e5\u627e\u548c\u5220\u9664\u8282\u70b9\u7684\u7b97\u6cd5\u3002"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"\u4e8c\u53c9\u641c\u7d22\u6811"),"\uff08BST\uff09\u662f\u4e8c\u53c9\u6811\u7684\u4e00\u79cd\uff0c\u4f46\u662f\u53ea\u5141\u8bb8\u5728\u5de6\u4fa7\u8282\u70b9\u5b58\u50a8(\u6bd4\u7236\u8282\u70b9)\u5c0f\u7684\u503c\uff0c\u5728\u53f3\u4fa7\u8282\u70b9\u5b58\u50a8(\u6bd4\u7236\u8282\u70b9)\u5927\u7684\u503c\u3002\u4e0a\u4e00\u8282\u7684\u56fe\u4e2d\u5c31\u5c55\u73b0\u4e86\u4e00\u68f5\u4e8c\u53c9\u641c\u7d22\u6811\u3002"),Object(o.b)("h3",{id:"\u5b9e\u73b0\u4e8c\u53c9\u641c\u7d22\u6811"},"\u5b9e\u73b0\u4e8c\u53c9\u641c\u7d22\u6811"),Object(o.b)("p",null,"\u521b\u5efa Node \u7c7b\u6765\u8868\u793a\u4e8c\u53c9\u641c\u7d22\u6811\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"class Node {\n  constructor(key) {\n    this.key = key; // \u8282\u70b9\u503c\n    this.left = null; // \u5de6\u4fa7\u5b50\u8282\u70b9\u5f15\u7528\n    this.right = null; // \u53f3\u4fa7\u5b50\u8282\u70b9\u5f15\u7528\n  }\n\n  toString() {\n    return `${this.key}`;\n  }\n}\n")),Object(o.b)("p",null,"\u4e0b\u56fe\u5c55\u73b0\u4e86\u4e8c\u53c9\u641c\u7d22\u6811\u6570\u636e\u7ed3\u6784\u7684\u7ec4\u7ec7\u65b9\u5f0f\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-binary-search-tree.svg",alt:"\u4e8c\u53c9\u641c\u7d22\u6811\u6570\u636e\u7ed3\u6784\u56fe"}))),Object(o.b)("p",null,"\u548c\u94fe\u8868\u4e00\u6837\uff0c\u901a\u8fc7\u6307\u9488(\u5f15\u7528)\u6765\u8868\u793a\u8282\u70b9\u4e4b\u95f4\u7684\u5173\u7cfb(\u6811\u76f8\u5173\u7684\u672f\u8bed\u79f0\u5176\u4e3a\u8fb9)\u3002\u5728\u53cc\u5411\u94fe\u8868\u4e2d\uff0c\u6bcf\u4e2a\u8282\u70b9\u5305\u542b\u4e24\u4e2a\u6307\u9488\uff0c\u4e00\u4e2a\u6307\u5411\u4e0b\u4e00\u4e2a\u8282\u70b9\uff0c\u53e6\u4e00\u4e2a\u6307\u5411\u4e0a\u4e00\u4e2a\u8282\u70b9\u3002\u5bf9\u4e8e\u6811\uff0c\u4f7f\u7528\u540c\u6837\u7684\u65b9\u5f0f(\u4e5f\u4f7f\u7528\u4e24\u4e2a\u6307\u9488)\uff0c\u4f46\u662f\u4e00\u4e2a\u6307\u5411\u5de6\u4fa7\u5b50\u8282\u70b9\uff0c\u53e6\u4e00\u4e2a\u6307\u5411\u53f3\u4fa7\u5b50\u8282\u70b9\u3002\u56e0\u6b64\uff0c\u5c06\u58f0\u660e\u4e00\u4e2a Node \u7c7b\u6765\u8868\u793a\u6811\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\u3002"),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"\u503c\u5f97\u6ce8\u610f\u7684\u4e00\u4e2a\u5c0f\u7ec6\u8282\u662f\uff0c\u4e00\u822c\u5c06\u8282\u70b9\u672c\u8eab\u79f0\u4f5c\u8282\u70b9\u6216\u9879\uff0c\u4f46\u5728\u6811\u4e2d\u4e5f\u79f0\u5176\u4e3a\u952e\u3002\u952e\u662f\u6811\u76f8\u5173\u7684\u672f\u8bed\u4e2d\u5bf9\u8282\u70b9\u7684\u79f0\u547c\u3002"))),Object(o.b)("p",null,"\u4e0b\u9762\u662f\u5c06\u8981\u5728 BinarySearchTree \u7c7b\u4e2d\u5b9e\u73b0\u7684\u65b9\u6cd5\uff1a"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"insert(key)"),"\uff1a\u5411\u6811\u4e2d\u63d2\u5165\u4e00\u4e2a\u65b0\u7684\u952e\u3002"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"search(key)"),"\uff1a\u5728\u6811\u4e2d\u67e5\u627e\u4e00\u4e2a\u952e\u3002\u5982\u679c\u8282\u70b9\u5b58\u5728\uff0c\u5219\u8fd4\u56de true;\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de false\u3002"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"inOrderTraverse()"),"\uff1a\u901a\u8fc7\u4e2d\u5e8f\u904d\u5386\u65b9\u5f0f\u904d\u5386\u6240\u6709\u8282\u70b9\u3002"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"preOrderTraverse()"),"\uff1a\u901a\u8fc7\u5148\u5e8f\u904d\u5386\u65b9\u5f0f\u904d\u5386\u6240\u6709\u8282\u70b9\u3002"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"postOrderTraverse()"),"\uff1a\u901a\u8fc7\u540e\u5e8f\u904d\u5386\u65b9\u5f0f\u904d\u5386\u6240\u6709\u8282\u70b9\u3002"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"min()"),"\uff1a\u8fd4\u56de\u6811\u4e2d\u6700\u5c0f\u7684\u503c/\u952e\u3002"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"max()"),"\uff1a\u8fd4\u56de\u6811\u4e2d\u6700\u5927\u7684\u503c/\u952e\u3002"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"remove(key)"),"\uff1a\u4ece\u6811\u4e2d\u79fb\u9664\u67d0\u4e2a\u952e\u3002")),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"// \u5bf9\u6bd4\u5e38\u91cf\nconst Compare = {\n  LESS_THAN: -1,\n  BIGGER_THAN: 1,\n  EQUALS: 0,\n};\n// \u5bf9\u6bd4\u51fd\u6570\nfunction defaultCompare(a, b) {\n  if (a === b) {\n    return Compare.EQUALS;\n  }\n  return a < b ? Compare.LESS_THAN : Compare.BIGGER_THAN;\n}\n\n/* \u4e4b\u524d\u5b9a\u4e49\u7684 Node \u8282\u70b9\u7c7b */\n\n/**\n * \u4e8c\u53c9\u641c\u7d22\u6811\n */\nclass BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    // \u7528\u6765\u6bd4\u8f83\u8282\u70b9\u503c\n    this.compareFn = compareFn;\n    // Node \u7c7b\u578b\u7684\u6839\u8282\u70b9 undefined | null\n    this.root = undefined;\n  }\n\n  /**\n   * \u5411\u4e8c\u53c9\u641c\u7d22\u6811\u4e2d\u63d2\u5165\u4e00\u4e2a\u8282\u70b9\n   */\n  insert(key) {\n    // \u8981\u5411\u6811\u4e2d\u63d2\u5165\u4e00\u4e2a\u65b0\u7684\u8282\u70b9(\u6216\u952e)\uff0c\u8981\u7ecf\u5386\u4e09\u4e2a\u6b65\u9aa4\n    // \u7b2c\u4e00\u6b65\u662f\u9a8c\u8bc1\u63d2\u5165\u64cd\u4f5c\u662f\u5426\u662f\u7279\u6b8a\u60c5\u51b5\u3002\n    // \u63d2\u5165\u7684\u6811\u8282\u70b9\u662f\u5426\u4e3a\u7b2c\u4e00\u4e2a\u8282\u70b9\u3002\n    if (this.root == null) {\n      // \u5982\u679c\u4e3a\u7a7a\uff0c\u5219\u521b\u5efa\u4e00\u4e2a Node \u7c7b\u7684\u5b9e\u4f8b\u5e76\u5c06\u5b83\u8d4b\u503c\u7ed9 root \u5c5e\u6027\u6765\u5c06 root \u6307\u5411\u8fd9\u4e2a\u65b0\u8282\u70b9\n      this.root = new Node(key);\n    } else {\n      // \u7b2c\u4e8c\u6b65\u662f\u5c06\u8282\u70b9\u6dfb\u52a0\u5230\u6839\u8282\u70b9\u4ee5\u5916\u7684\u5176\u4ed6\u4f4d\u7f6e\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u4e00\u4e2a\u8f85\u52a9\u65b9\u6cd5\uff08insertNode\uff09\n      // \u5982\u679c\u6811\u975e\u7a7a\uff0c\u9700\u8981\u627e\u5230\u63d2\u5165\u65b0\u8282\u70b9\u7684\u4f4d\u7f6e\u3002\u56e0\u6b64\uff0c\u5728\u8c03\u7528 insertNode \u65b9\u6cd5\u65f6\u8981\u901a\u8fc7\u53c2\u6570\u4f20\u5165\u6811\u7684\u6839\u8282\u70b9\u548c\u8981\u63d2\u5165\u7684\u8282\u70b9\n      this.insertNode(this.root, key);\n    }\n  }\n\n  /**\n   * \u63d2\u5165\u8282\u70b9\u65f6\u627e\u5230\u65b0\u8282\u70b9\u5e94\u8be5\u63d2\u5165\u7684\u6b63\u786e\u4f4d\u7f6e\n   *\n   */\n  insertNode(node, key) {\n    // 1. \u5982\u679c\u65b0\u8282\u70b9\u7684\u952e\u5c0f\u4e8e\u5f53\u524d\u8282\u70b9\u7684\u952e(\u7b2c\u4e00\u6b21\u4e3a\u6839\u8282\u70b9)\n    // \u7531\u4e8e\u952e\u53ef\u80fd\u662f\u590d\u6742\u7684\u5bf9\u8c61\u800c\u4e0d\u662f\u6570\uff0c\u4f7f\u7528\u4f20\u5165 compareFn \u51fd\u6570\u6765\u6bd4\u8f83\u503c\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      // 1.1 \u8f83\u5c0f\u5219\u9700\u8981\u63d2\u5165\u5230\u5de6\u4fa7\uff0c\u68c0\u67e5\u5f53\u524d\u8282\u70b9\u7684\u5de6\u4fa7\u5b50\u8282\u70b9\n      if (node.left == null) {\n        // \u5982\u679c\u5b83\u6ca1\u6709\u5de6\u4fa7\u5b50\u8282\u70b9\uff0c\u5219\u63d2\u5165\u65b0\u7684\u8282\u70b9\n        node.left = new Node(key);\n      } else {\n        // 1.2 \u5982\u679c\u6709\u5de6\u4fa7\u5b50\u8282\u70b9\uff0c\u9700\u8981\u901a\u8fc7\u9012\u5f52\u8c03\u7528 insertNode \u65b9\u6cd5\u7ee7\u7eed\u627e\u5230\u6811\u7684\u4e0b\u4e00\u5c42\n        // \u4e0b\u6b21\u9012\u5f52\u8981\u6bd4\u8f83\u7684\u8282\u70b9\u5c06\u4f1a\u662f\u5f53\u524d\u8282\u70b9\u7684\u5de6\u4fa7\u5b50\u8282\u70b9(\u5de6\u4fa7\u8282\u70b9\u5b50\u6811) node.left\n        this.insertNode(node.left, key);\n      }\n    } else if (node.right == null) {\n      // 2. \u5982\u679c\u8282\u70b9\u7684\u952e\u6bd4\u5f53\u524d\u8282\u70b9\u7684\u952e\u5927\uff0c\u540c\u65f6\u5f53\u524d\u8282\u70b9\u6ca1\u6709\u53f3\u4fa7\u5b50\u8282\u70b9\n      // \u5c31\u5728\u5f53\u524d\u4f4d\u7f6e\u63d2\u5165\u65b0\u7684\u8282\u70b9\n      node.right = new Node(key);\n    } else {\n      // 2.1 \u5982\u679c\u8282\u70b9\u7684\u952e\u6bd4\u5f53\u524d\u8282\u70b9\u7684\u952e\u5927\uff0c\u4e14\u6709\u53f3\u4fa7\u5b50\u8282\u70b9\n      // \u9700\u8981\u9012\u5f52\u8c03\u7528 insertNode \u65b9\u6cd5\uff0c\u8981\u7528\u6765\u548c\u65b0\u8282\u70b9\u6bd4\u8f83\u7684\u8282\u70b9\u5c06\u4f1a\u662f\u53f3\u4fa7\u5b50\u8282\u70b9(\u53f3\u4fa7\u8282\u70b9\u5b50\u6811) node.right\n      this.insertNode(node.right, key);\n    }\n  }\n}\n")),Object(o.b)("h2",{id:"\u6811\u7684\u904d\u5386"},"\u6811\u7684\u904d\u5386"),Object(o.b)("p",null,"\u904d\u5386\u4e00\u68f5\u6811\u662f\u6307\u8bbf\u95ee\u6811\u7684\u6bcf\u4e2a\u8282\u70b9\u5e76\u5bf9\u5b83\u4eec\u8fdb\u884c\u67d0\u79cd\u64cd\u4f5c\u7684\u8fc7\u7a0b\u3002\u8bbf\u95ee\u6811\u7684\u6240\u6709\u8282\u70b9\u6709\u4e09\u79cd\u65b9\u5f0f\uff1a",Object(o.b)("strong",{parentName:"p"},"\u4e2d\u5e8f"),"\u3001",Object(o.b)("strong",{parentName:"p"},"\u5148\u5e8f"),"\u548c",Object(o.b)("strong",{parentName:"p"},"\u540e\u5e8f"),"\u3002"),Object(o.b)("h3",{id:"\u4e2d\u5e8f\u904d\u5386"},"\u4e2d\u5e8f\u904d\u5386"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"\u4e2d\u5e8f\u904d\u5386"),"\u662f\u4e00\u79cd\u4ee5\u4e0a\u884c\u987a\u5e8f\u8bbf\u95ee BST \u6240\u6709\u8282\u70b9\u7684\u904d\u5386\u65b9\u5f0f\uff0c\u4e5f\u5c31\u662f\u4ee5\u4ece\u6700\u5c0f\u5230\u6700\u5927\u7684\u987a\u5e8f\u8bbf\u95ee\u6240\u6709\u8282\u70b9\u3002\u4e2d\u5e8f\u904d\u5386\u7684\u5176\u4e2d\u4e00\u79cd\u5e94\u7528\u5c31\u662f\u5bf9\u6811\u8fdb\u884c\u6392\u5e8f\u64cd\u4f5c\u3002\u4e0b\u9762\u6765\u770b\u770b\u5b83\u7684\u5b9e\u73b0\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"  /**\n   * \u4e2d\u5e8f\u904d\u5386\u65b9\u6cd5\u63a5\u6536\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u7528\u6765\u5b9a\u4e49\u6211\u4eec\u5bf9\u904d\u5386\u5230\u7684\u6bcf\u8282\u70b9\u8fdb\u884c\u7684\u64cd\u4f5c\n   */\n  inOrderTraverse(callback) {\n    // \u7531\u4e8e\u5728 BST \u4e2d\u6700\u5e38\u5b9e\u73b0\u7684\u7b97\u6cd5\u662f\u9012\u5f52\n    // \u56e0\u6b64\u9700\u8981\u4e00\u4e2a\u8f85\u52a9\u65b9\u6cd5\uff08inOrderTraverseNode\uff09\u6765\u63a5\u6536\u4e00\u4e2a\u8282\u70b9\u548c\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\n    this.inOrderTraverseNode(this.root, callback);\n  }\n\n  /**\n   * \u51fd\u6570\u63a5\u6536 node \u548c callback\n   */\n  inOrderTraverseNode(node, callback) {\n    // 1. \u9996\u5148\u8981\u68c0\u67e5\u4ee5\u53c2\u6570\u8282\u70b9\u662f\u5426\u4e3a null(\u4e5f\u662f\u505c\u6b62\u9012\u5f52\u7ee7\u7eed\u6267\u884c\u7684\u5224\u65ad\u6761\u4ef6\uff0c\u5373\u9012\u5f52\u7b97\u6cd5\u7684\u57fa\u7ebf\u6761\u4ef6)\n    if (node != null) {\n      // 2. \u9012\u5f52\u8c03\u7528\u76f8\u540c\u7684\u51fd\u6570\u6765\u8bbf\u95ee\u5de6\u4fa7\u5b50\u8282\u70b9\n      this.inOrderTraverseNode(node.left, callback);\n      // 3. \u63a5\u7740\u5bf9\u6839\u8282\u70b9(\u884c{4})\u8fdb\u884c\u4e00\u4e9b\u64cd\u4f5c(callback)\n      callback(node.key);\n      // 4. \u7136\u540e\u518d\u8bbf\u95ee\u53f3\u4fa7\u5b50\u8282\u70b9\n      this.inOrderTraverseNode(node.right, callback);\n    }\n  }\n")),Object(o.b)("p",null,"\u4e0b\u56fe\u63cf\u7ed8\u4e86 ",Object(o.b)("inlineCode",{parentName:"p"},"inOrderTraverse")," \u65b9\u6cd5\u7684\u8bbf\u95ee\u8def\u5f84\uff0c\u8f93\u51fa\u987a\u5e8f\u4e3a ",Object(o.b)("em",{parentName:"p"},"3 5 6 7 8 9 10 11 12 13 14 15 18 20 25"),"\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-in-order-traverse.svg",alt:"\u4e2d\u5e8f\u904d\u5386\u56fe"}))),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"\u4f7f\u7528\u56de\u8c03\u51fd\u6570\u7528\u6765\u5b9a\u4e49\u6bcf\u8282\u70b9\u8fdb\u884c\u7684\u64cd\u4f5c\uff08\u8fd9\u4e5f\u53eb\u4f5c\u8bbf\u95ee\u8005\u6a21\u5f0f\uff0c\u8981\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u8bbf\u95ee\u8005\u6a21\u5f0f\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"http://en.wikipedia.org/wiki/Visitor_pattern"}),"\u7ef4\u57fa\u767e\u79d1"),"\uff09"))),Object(o.b)("h3",{id:"\u5148\u5e8f\u904d\u5386"},"\u5148\u5e8f\u904d\u5386"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"\u5148\u5e8f\u904d\u5386"),"\u662f\u4ee5\u4f18\u5148\u4e8e\u540e\u4ee3\u8282\u70b9\u7684\u987a\u5e8f\u8bbf\u95ee\u6bcf\u4e2a\u8282\u70b9\u7684\u3002\u5148\u5e8f\u904d\u5386\u7684\u5176\u4e2d\u4e00\u79cd\u5e94\u7528\u662f\u6253\u5370\u4e00\u4e2a\u7ed3\u6784\u5316\u7684\u6587\u6863\u3002\u4ee3\u7801\u5b9e\u73b0\u5982\u4e0b\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"  /**\n   *\u5148\u5e8f\u904d\u5386\n   */\n  preOrderTraverse(callback) {\n    this.preOrderTraverseNode(this.root, callback);\n  }\n\n  /**\n   * \u63a5\u6536 node \u548c callback\n   */\n  preOrderTraverseNode(node, callback) {\n    if (node != null) {\n      // \u5148\u5e8f\u904d\u5386\u548c\u4e2d\u5e8f\u904d\u5386\u7684\u4e0d\u540c\u70b9\u662f\uff0c\u5148\u5e8f\u904d\u5386\u4f1a\u5148\u8bbf\u95ee\u8282\u70b9\u672c\u8eab\n      callback(node.key);\n      // \u7136\u540e\u518d\u8bbf\u95ee\u5b83\u7684\u5de6\u4fa7\u5b50\u8282\u70b9\n      this.preOrderTraverseNode(node.left, callback);\n      // \u6700\u540e\u662f\u53f3\u4fa7\u5b50\u8282\u70b9\n      this.preOrderTraverseNode(node.right, callback);\n    }\n  }\n")),Object(o.b)("p",null,"\u4e0b\u56fe\u63cf\u7ed8\u4e86 ",Object(o.b)("inlineCode",{parentName:"p"},"preOrderTraverseNode")," \u65b9\u6cd5\u7684\u8bbf\u95ee\u8def\u5f84\uff0c\u8f93\u51fa\u987a\u5e8f\u4e3a ",Object(o.b)("em",{parentName:"p"},"11 7 5 3 6 9 8 10 15 13 12 14 20 18 25"),"\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-pre-order-traverse.svg",alt:"\u524d\u5e8f\u904d\u5386\u56fe"}))),Object(o.b)("h3",{id:"\u540e\u5e8f\u904d\u5386"},"\u540e\u5e8f\u904d\u5386"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"\u540e\u5e8f\u904d\u5386"),"\u5219\u662f\u5148\u8bbf\u95ee\u8282\u70b9\u7684\u540e\u4ee3\u8282\u70b9\uff0c\u518d\u8bbf\u95ee\u8282\u70b9\u672c\u8eab\u3002\u540e\u5e8f\u904d\u5386\u7684\u5176\u4e2d\u4e00\u79cd\u5e94\u7528\u662f\u8ba1\u7b97\u4e00\u4e2a\u76ee\u5f55\u53ca\u5176\u5b50\u76ee\u5f55\u4e2d\u6240\u6709\u6587\u4ef6\u6240\u5360\u7a7a\u95f4\u7684\u5927\u5c0f\u3002\u4ee3\u7801\u5b9e\u73b0\u5982\u4e0b\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"  /**\n   * \u540e\u5e8f\u904d\u5386\n   */\n  postOrderTraverse(callback) {\n    this.postOrderTraverseNode(this.root, callback);\n  }\n\n  /**\n   * \u63a5\u6536 node \u548c callback\n   */\n  postOrderTraverseNode(node, callback) {\n    if (node != null) {\n      // \u540e\u5e8f\u904d\u5386\u4f1a\u5148\u8bbf\u95ee\u5de6\u4fa7\u5b50\u8282\u70b9\n      this.postOrderTraverseNode(node.left, callback);\n      // \u7136\u540e\u662f\u53f3\u4fa7\u5b50\u8282\u70b9\uff0c\n      this.postOrderTraverseNode(node.right, callback);\n      // \u6700\u540e\u662f\u7236\u8282\u70b9\u672c\u8eab\n      callback(node.key);\n    }\n  }\n")),Object(o.b)("p",null,"\u4e0b\u56fe\u63cf\u7ed8\u4e86 ",Object(o.b)("inlineCode",{parentName:"p"},"postOrderTraverseNode")," \u65b9\u6cd5\u7684\u8bbf\u95ee\u8def\u5f84\uff0c\u8f93\u51fa\u987a\u5e8f\u4e3a ",Object(o.b)("em",{parentName:"p"},"3 6 5 8 10 9 7 12 14 13 18 25 20 15 11"),"\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-post-order-traverse.svg",alt:"\u540e\u5e8f\u904d\u5386\u56fe"}))),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"\u4e09\u79cd\u904d\u5386\u65b9\u5f0f\u7684\u5b9e\u73b0\u65b9\u5f0f\u662f\u5f88\u76f8\u4f3c\u7684\uff0c\u552f\u4e00\u4e0d\u540c\u7684\u662f\u8bbf\u95ee\u7236\u8282\u70b9\u3001\u5de6\u4fa7\u5b50\u8282\u70b9\u548c\u53f3\u4fa7\u5b50\u8282\u70b9\u7684\u987a\u5e8f\u3002"))),Object(o.b)("h2",{id:"\u641c\u7d22\u6811\u4e2d\u7684\u503c"},"\u641c\u7d22\u6811\u4e2d\u7684\u503c"),Object(o.b)("p",null,"\u5728\u6811\u4e2d\uff0c\u6709\u4e09\u79cd\u7ecf\u5e38\u6267\u884c\u7684\u641c\u7d22\u7c7b\u578b\uff1a\u641c\u7d22\u6700\u5c0f\u503c\u3001\u641c\u7d22\u6700\u5927\u503c\u3001\u641c\u7d22\u7279\u5b9a\u7684\u503c\u3002"),Object(o.b)("h3",{id:"\u641c\u7d22\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c"},"\u641c\u7d22\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c"),Object(o.b)("p",null,"\u4ee5\u4e0b\u9762\u7684\u6811\u4f5c\u4e3a\u793a\u4f8b\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-search-min-and-max.svg",alt:"\u641c\u7d22\u6811\u7684\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c"}))),Object(o.b)("p",null,"\u89c2\u5bdf\u4e0a\u56fe\u53ef\u77e5\u6811\u6700\u540e\u4e00\u5c42\u6700\u5de6\u4fa7\u7684\u8282\u70b9\uff0c\u5b83\u7684\u503c\u4e3a 3\uff0c\u662f\u8fd9\u68f5\u6811\u4e2d\u6700\u5c0f\u7684\u952e\u3002\u800c\u6811\u6700\u53f3\u7aef\u7684\u8282\u70b9(\u540c\u6837\u662f\u6811\u7684\u6700\u540e\u4e00\u5c42)\uff0c\u5b83\u7684\u503c\u4e3a 25\uff0c\u662f\u8fd9\u68f5\u6811\u4e2d\u6700\u5927\u7684 \u952e\u3002\u8fd9\u4e24\u4e2a\u4fe1\u606f\u5728\u5b9e\u73b0\u641c\u7d22\u6811\u8282\u70b9\u7684\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\u7684\u65b9\u6cd5\u65f6\u4f1a\u5f88\u5927\u7684\u5e2e\u52a9\u3002"),Object(o.b)("p",null,"\u4e0b\u9762\uff0c\u6765\u770b\u770b\u5bfb\u627e\u6811\u7684\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\u7684\u65b9\u6cd5\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"  /**\n   * min \u65b9\u6cd5\u5c06\u4f1a\u66b4\u9732\u7ed9\u7528\u6237\uff0c\u8c03\u7528\u4e86 minNode \u65b9\u6cd5\n   */\n  min() {\n    // \u8c03\u7528 minNode\uff0c\u4f20\u5165\u6811\u7684\u6839\u8282\u70b9\n    return this.minNode(this.root);\n  }\n\n  /**\n   * \u8be5\u65b9\u6cd5\u53ef\u4ee5\u4ece\u6811\u4e2d\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\uff08\u63a5\u6536 node\uff09\u5f00\u59cb\u5bfb\u627e\uff0c\u76f4\u5230\u627e\u5230\u4e00\u68f5\u6811\u6216\u5176\u5b50\u6811\u4e2d\u6700\u5c0f\u7684\u952e\n   */\n  minNode(node) {\n    let current = node;\n    // \u904d\u5386\u6811\u7684\u5de6\u8fb9\uff0c\u76f4\u5230\u627e\u5230\u6811\u7684\u6700\u4e0b\u5c42(\u6700\u5de6\u7aef)\n    while (current != null && current.left != null) {\n      current = current.left;\n    }\n    return current;\n  }\n\n  /**\n   * \u83b7\u53d6\u6700\u5927\u503c\n   */\n  max() {\n    return this.maxNode(this.root);\n  }\n\n  /**\n   * \u63a5\u6536 node\uff0c\u8fd4\u56de\u6700\u5927\u503c\n   */\n  maxNode(node) {\n    let current = node;\n    // \u6cbf\u7740\u6811\u7684\u53f3\u8fb9\u8fdb\u884c\u904d\u5386\uff0c\u76f4\u5230\u627e\u5230\u6700\u53f3\u7aef\u7684\u8282\u70b9\n    while (current != null && current.right != null) {\n      current = current.right;\n    }\n    return current;\n  }\n")),Object(o.b)("h3",{id:"\u641c\u7d22\u4e00\u4e2a\u7279\u5b9a\u7684\u503c"},"\u641c\u7d22\u4e00\u4e2a\u7279\u5b9a\u7684\u503c"),Object(o.b)("p",null,"\u5728 BST \u4e2d\u5b9e\u73b0\u641c\u7d22\u7684\u65b9\u6cd5\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"  /**\n   * \u6839\u636e\u4f20\u5165\u503c\u641c\u7d22\u6811\u8282\u70b9\n   */\n  search(key) {\n    // \u8c03\u7528 searchNode \u65b9\u6cd5\uff0c\u4f20\u5165\u8ddf\u8282\u70b9\uff08root\uff09 \u548c \u641c\u7d22\u503c\uff08key\uff09\n    return this.searchNode(this.root, key);\n  }\n\n  /**\n   * \u641c\u7d22\u4e00\u68f5\u6811\u6216\u5176\u4efb\u610f\u5b50\u6811\u4e2d\u7684\u4e00\u4e2a\u7279\u5b9a\u7684\u503c\n   */\n  searchNode(node, key) {\n    // \u9a8c\u8bc1\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u7684 node \u662f\u5426\u5408\u6cd5(\u4e0d\u662f null \u6216 undefined)\n    if (node == null) {\n      // \u5982\u679c\u662f\u7684\u8bdd\uff0c\u8bf4\u660e\u8981\u627e\u7684\u952e\u6ca1\u6709\u627e\u5230\uff0c\u8fd4\u56de false\n      return false;\n    }\n    // \u5982\u679c\u4f20\u5165\u7684\u8282\u70b9\u4e0d\u662f null\uff0c\u9700\u8981\u7ee7\u7eed\u9a8c\u8bc1\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      // \u5982\u679c\u8981\u627e\u7684\u952e\u6bd4\u5f53\u524d\u7684\u8282\u70b9\u5c0f\uff0c\u7ee7\u7eed\u5728\u5de6\u4fa7\u7684\u5b50\u6811\u4e0a\u641c\u7d22\n      return this.searchNode(node.left, key);\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      // \u5982\u679c\u8981\u627e\u7684\u952e\u6bd4\u5f53\u524d\u7684\u8282\u70b9\u5927\uff0c\u4ece\u53f3\u4fa7\u5b50 \u8282\u70b9\u5f00\u59cb\u7ee7\u7eed\u641c\u7d22\n      return this.searchNode(node.right, key);\n    }\n    // \u5426\u5219\u5c31\u8bf4\u660e\u8981\u627e\u7684\u952e\u548c\u5f53\u524d\u8282\u70b9\u7684\u952e\u76f8\u7b49\uff0c\u8fd4\u56de true \u6765\u8868\u793a\u627e\u5230\u4e86\u8fd9\u4e2a\u952e\n    return true;\n  }\n")),Object(o.b)("h3",{id:"\u79fb\u9664\u4e00\u4e2a\u8282\u70b9"},"\u79fb\u9664\u4e00\u4e2a\u8282\u70b9"),Object(o.b)("p",null,"\u8981\u5728 BST \u4e2d\u5b9e\u73b0 ",Object(o.b)("inlineCode",{parentName:"p"},"remove")," \u65b9\u6cd5\u3002\u8fd9\u662f\u4e8c\u53c9\u641c\u7d22\u6811\u4e2d\u8981\u5b9e\u73b0\u7684\u6700\u590d\u6742\u7684\u65b9\u6cd5\u3002\u5148\u521b\u5efa\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u4f7f\u5b83\u80fd\u591f\u5728\u6811\u7684\u5b9e\u4f8b\u4e0a\u88ab\u8c03\u7528\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"  /**\n   * \u79fb\u9664\u8282\u70b9\uff0c\u63a5\u6536\u8981\u79fb\u9664\u7684\u952e\n   */\n  remove(key) {\n    // \u8c03\u7528 removeNode \u65b9\u6cd5\uff0c\u4f20\u5165 root \u548c\u8981\u79fb\u9664\u7684\u952e\u4f5c\u4e3a\u53c2\u6570\n    this.root = this.removeNode(this.root, key);\n  }\n\n  /**\n   * \u79fb\u9664\u8282\u70b9\u4efb\u610f\u8282\u70b9\uff0c\u63a5\u6536 node \u548c key\n   * removeNode \u65b9\u6cd5\u7684\u590d\u6742\u4e4b\u5904\u5728\u4e8e\u8981\u5904\u7406\u4e0d\u540c\u7684\u8fd0\u884c\u573a\u666f\uff0c\u5f53\u7136\u4e5f\u56e0\u4e3a\u5b83\u662f\u901a\u8fc7\u9012\u5f52\u6765\u5b9e\u73b0\u7684\n   */\n  removeNode(node, key) {\n    // 1. \u8282\u70b9\u4e3a null\n    if (node == null) {\n      // \u8bf4\u660e\u952e\u4e0d\u5b58\u5728\u4e8e\u6811\u4e2d\uff0c\u6240\u4ee5\u8fd4\u56de undefined | null\n      return undefined;\n    }\n    // 2. \u4e0d\u4e3a null\uff0c\u9700\u8981\u5728\u6811\u4e2d\u627e\u5230\u8981\u79fb\u9664\u7684\u952e\n    // \u6bd4\u8f83\u952e\u5927\u5c0f\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      // 2.1 \u5982\u679c\u8981\u627e\u7684\u952e\u6bd4\u5f53\u524d\u8282\u70b9\u7684\u503c\u5c0f\n      // \u5c31\u6cbf\u7740\u6811\u7684\u5de6\u8fb9\u627e\u5230\u4e0b\u4e00\u4e2a\u8282\u70b9\n      node.left = this.removeNode(node.left, key);\n      // \u66f4\u65b0\u4e86\u8282\u70b9\u5de6\u6307\u9488\u7684\u503c\uff0c\u8fd4\u56de\u4e86\u66f4\u65b0\u540e\u7684\u8282\u70b9\n      return node;\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      // 2.2 \u5982\u679c\u8981\u627e\u7684\u952e\u6bd4\u5f53\u524d\u8282\u70b9\u7684\u503c\u5927\n      // \u6cbf\u7740\u6811\u7684\u53f3\u8fb9\u627e\u5230\u4e0b\u4e00\u4e2a\u8282\u70b9\n      node.right = this.removeNode(node.right, key);\n      // \u66f4\u65b0\u4e86\u8282\u70b9\u53f3\u6307\u9488\u7684\u503c\uff0c\u8fd4\u56de\u4e86\u66f4\u65b0\u540e\u7684\u8282\u70b9\n      return node;\n    }\n    // 3. \u5982\u679c\u627e\u5230\u4e86\u8981\u627e\u7684\u952e(\u952e\u548c node.key \u76f8\u7b49)\n    // \u5c31\u9700\u8981\u5904\u7406\u4e09\u79cd\u4e0d\u540c\u7684\u60c5\u51b5\n    // 1 - \u8be5\u8282\u70b9\u662f\u4e00\u4e2a\u53f6\u5b50\u8282\u70b9\n    // 2 - \u8be5\u8282\u70b9\u53ea\u5305\u542b\u4e00\u4e2a\u5b50\u8282\u70b9\n    // 3 - \u8be5\u8282\u70b9\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\n\n    // 3.1 \u7b2c\u4e00\u4e2a\u79cd\u60c5\u51b5\uff1a\u79fb\u9664\u4e00\u4e2a\u53f6\u8282\u70b9\n    // \u8be5\u8282\u70b9\u662f\u4e00\u4e2a\u6ca1\u6709\u5de6\u4fa7\u6216\u53f3\u4fa7\u5b50\u8282\u70b9\u7684\u53f6\u8282\u70b9\n    if (node.left == null && node.right == null) {\n      // \u7ed9\u8fd9\u4e2a\u8282\u70b9\u8d4b\u4e88 null \u503c\u6765\u79fb\u9664\u5b83\uff0c\u8fd8\u9700\u8981\u5904\u7406\u5f15\u7528(\u6307\u9488)\n      // \u8fd9\u4e2a\u8282\u70b9\u6ca1\u6709\u4efb\u4f55\u5b50\u8282\u70b9\uff0c\u4f46\u5b83\u6709\u4e00\u4e2a\u7236\u8282\u70b9\uff0c\u9700\u901a\u8fc7\u8fd4\u56de null \u6765\u5c06\u5bf9\u5e94\u7684\u7236\u8282\u70b9\u6307\u9488\u8d4b\u4e3a null \u503c\n      node = undefined;\n      return node;\n    }\n    // 3.2 \u7b2c\u4e8c\u4e2a\u79cd\u60c5\u51b5\uff1a\u79fb\u9664\u6709\u4e00\u4e2a\u5de6\u4fa7\u5b50\u8282\u70b9\u6216\u53f3\u4fa7\u5b50\u8282\u70b9\u7684\u8282\u70b9\n    // \u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u8df3\u8fc7\u8fd9\u4e2a\u8282\u70b9\uff0c\u76f4\u63a5\u5c06\u7236\u8282\u70b9\u6307\u5411\u5b83\u7684\u6307\u9488\u6307\u5411\u5b50\u8282\u70b9\n    if (node.left == null) {\n      // \u5982\u679c\u8fd9\u4e2a\u8282\u70b9\u6ca1\u6709\u5de6\u4fa7\u5b50\u8282\u70b9\uff0c\u4e5f\u5c31\u662f\u8bf4\u5b83\u6709\u4e00\u4e2a\u53f3\u4fa7\u5b50\u8282\u70b9\n      // \u56e0\u6b64\u6211\u4eec\u628a\u5bf9\u5b83 \u7684\u5f15\u7528\u6539\u4e3a\u5bf9\u5b83\u53f3\u4fa7\u5b50\u8282\u70b9\u7684\u5f15\u7528\n      node = node.right;\n      // \u5e76\u8fd4\u56de\u66f4\u65b0\u540e\u7684\u8282\u70b9\n      return node;\n    } else if (node.right == null) {\n      // \u5982\u679c\u8fd9\u4e2a\u8282\u70b9\u6ca1\u6709\u53f3\u4fa7\u5b50\u8282\u70b9\n      // \u4e5f\u4e00\u6837\u628a\u5bf9\u5b83\u7684\u5f15\u7528\u6539\u4e3a\u5bf9\u5b83\u5de6\u4fa7\u5b50\u8282\u70b9\u7684\u5f15\u7528\n      node = node.left;\n      // \u5e76\u8fd4\u56de\u66f4\u65b0\u540e\u7684\u503c\n      return node;\n    }\n    // 3.3 \u7b2c\u4e09\u4e2a\u79cd\u60c5\u51b5\uff1a\u79fb\u9664\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\u7684\u8282\u70b9\n    // \u6700\u590d\u6742\u7684\u60c5\u51b5\uff0c\u90a3\u5c31\u662f\u8981\u79fb\u9664\u7684\u8282\u70b9\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\uff08\u5de6\u4fa7\u5b50\u8282\u70b9\u548c\u53f3\u4fa7\u5b50\u8282\u70b9\uff09\n    // \u8981\u79fb\u9664\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\u7684\u8282\u70b9\uff0c\u9700\u8981\u6267\u884c\u56db\u4e2a\u6b65\u9aa4\uff1a\n    // 3.3.1 \u5f53\u627e\u5230\u4e86\u8981\u79fb\u9664\u7684\u8282\u70b9\u540e\uff0c\u9700\u8981\u627e\u5230\u5b83\u53f3\u8fb9\u5b50\u6811\u4e2d\u6700\u5c0f\u7684\u8282\u70b9(\u5b83\u7684\u7ee7\u627f\u8005)\u3002\n    const aux = this.minNode(node.right);\n    // 3.3.2 \u7136\u540e\uff0c\u7528\u5b83\u53f3\u4fa7\u5b50\u6811\u4e2d\u6700\u5c0f\u8282\u70b9\u7684\u952e\u53bb\u66f4\u65b0\u8fd9\u4e2a\u8282\u70b9\u7684\u503c\n    // \u901a\u8fc7\u8fd9\u4e00\u6b65\u6539\u53d8\u4e86\u8fd9\u4e2a\u8282\u70b9\u7684\u952e\uff0c\u4e5f\u5c31\u662f\u8bf4\u5b83\u88ab\u79fb\u9664\u4e86\n    node.key = aux.key;\n    // 3.3.3 \u4f46\u662f\uff0c\u5728\u6811\u4e2d\u5c31\u6709\u4e24\u4e2a\u62e5\u6709\u76f8\u540c\u952e\u7684\u8282\u70b9\u4e86\uff0c\u8fd9\u662f\u4e0d\u884c\u7684\n    // \u8981\u7ee7\u7eed\u628a\u53f3\u4fa7\u5b50\u6811\u4e2d\u7684\u6700\u5c0f\u8282\u70b9\u79fb\u9664\uff0c\u6bd5\u7adf\u5b83\u5df2\u7ecf\u88ab\u79fb\u81f3\u8981\u79fb\u9664\u7684\u8282\u70b9\u7684\u4f4d\u7f6e\u4e86\n    node.right = this.removeNode(node.right, aux.key);\n    // 3.3.4 \u6700\u540e\uff0c\u5411\u5b83\u7684\u7236\u8282\u70b9\u8fd4\u56de\u66f4\u65b0\u540e\u8282\u70b9\u7684\u5f15\u7528\n    return node;\n  }\n")),Object(o.b)("p",null,"\u4e0b\u56fe\u5c55\u73b0\u4e86\u79fb\u9664\u4e00\u4e2a\u53f6\u8282\u70b9\u7684\u8fc7\u7a0b\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-remove-a-leaf-node.svg",alt:"\u79fb\u9664\u4e00\u4e2a\u53f6\u5b50\u8282\u70b9\u7684\u8fc7\u7a0b\u56fe"}))),Object(o.b)("p",null,"\u4e0b\u56fe\u5c55\u73b0\u4e86\u79fb\u9664\u53ea\u6709\u4e00\u4e2a\u5de6\u4fa7\u5b50\u8282\u70b9\u6216\u53f3\u4fa7\u5b50\u8282\u70b9\u7684\u8282\u70b9\u7684\u8fc7\u7a0b\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-remove-a-node-with-only-one-child.svg",alt:"\u79fb\u9664\u53ea\u6709\u4e00\u4e2a\u5b50\u8282\u70b9\u7684\u8282\u70b9\u7684\u8fc7\u7a0b\u56fe"}))),Object(o.b)("p",null,"\u4e0b\u56fe\u5c55\u73b0\u4e86\u79fb\u9664\u53ea\u6709\u4e00\u4e2a\u5de6\u4fa7\u5b50\u8282\u70b9\u6216\u53f3\u4fa7\u5b50\u8282\u70b9\u7684\u8282\u70b9\u7684\u8fc7\u7a0b\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-remove-a-node-with-two-children.svg",alt:"\u79fb\u9664\u79fb\u9664\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\u7684\u8282\u70b9\u7684\u8fc7\u7a0b\u56fe"}))),Object(o.b)("h2",{id:"\u4e8c\u53c9\u641c\u7d22\u6811\uff08binarysearchtree\uff09\u7684\u5b8c\u6574\u5b9e\u73b0"},"\u4e8c\u53c9\u641c\u7d22\u6811\uff08BinarySearchTree\uff09\u7684\u5b8c\u6574\u5b9e\u73b0"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"const Compare = {\n  LESS_THAN: -1,\n  BIGGER_THAN: 1,\n  EQUALS: 0,\n};\n// \u5bf9\u6bd4\u51fd\u6570\nfunction defaultCompare(a, b) {\n  if (a === b) {\n    return Compare.EQUALS;\n  }\n  return a < b ? Compare.LESS_THAN : Compare.BIGGER_THAN;\n}\n\nclass Node {\n  constructor(key) {\n    this.key = key; // \u8282\u70b9\u503c\n    this.left = null; // \u5de6\u4fa7\u5b50\u8282\u70b9\u5f15\u7528\n    this.right = null; // \u53f3\u4fa7\u5b50\u8282\u70b9\u5f15\u7528\n  }\n\n  toString() {\n    return `${this.key}`;\n  }\n}\n\nclass BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    this.compareFn = compareFn;\n    this.root = undefined;\n  }\n\n  insert(key) {\n    if (this.root == null) {\n      this.root = new Node(key);\n    } else {\n      this.insertNode(this.root, key);\n    }\n  }\n\n  insertNode(node, key) {\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      if (node.left == null) {\n        node.left = new Node(key);\n      } else {\n        this.insertNode(node.left, key);\n      }\n    } else if (node.right == null) {\n      node.right = new Node(key);\n    } else {\n      this.insertNode(node.right, key);\n    }\n  }\n\n  /**\n   * \u83b7\u53d6\u6839\u8282\u70b9\n   */\n  getRoot() {\n    return this.root;\n  }\n\n  search(key) {\n    return this.searchNode(this.root, key);\n  }\n\n  searchNode(node, key) {\n    if (node == null) {\n      return false;\n    }\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      return this.searchNode(node.left, key);\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      return this.searchNode(node.right, key);\n    }\n    return true;\n  }\n\n  inOrderTraverse(callback) {\n    this.inOrderTraverseNode(this.root, callback);\n  }\n\n  inOrderTraverseNode(node, callback) {\n    if (node != null) {\n      this.inOrderTraverseNode(node.left, callback);\n      callback(node.key);\n      this.inOrderTraverseNode(node.right, callback);\n    }\n  }\n\n  preOrderTraverse(callback) {\n    this.preOrderTraverseNode(this.root, callback);\n  }\n\n  preOrderTraverseNode(node, callback) {\n    if (node != null) {\n      callback(node.key);\n      this.preOrderTraverseNode(node.left, callback);\n      this.preOrderTraverseNode(node.right, callback);\n    }\n  }\n\n  postOrderTraverse(callback) {\n    this.postOrderTraverseNode(this.root, callback);\n  }\n\n  postOrderTraverseNode(node, callback) {\n    if (node != null) {\n      this.postOrderTraverseNode(node.left, callback);\n      this.postOrderTraverseNode(node.right, callback);\n      callback(node.key);\n    }\n  }\n\n  min() {\n    return this.minNode(this.root);\n  }\n\n  minNode(node) {\n    let current = node;\n    while (current != null && current.left != null) {\n      current = current.left;\n    }\n    return current;\n  }\n\n  max() {\n    return this.maxNode(this.root);\n  }\n\n  maxNode(node) {\n    let current = node;\n    while (current != null && current.right != null) {\n      current = current.right;\n    }\n    return current;\n  }\n\n  remove(key) {\n    this.root = this.removeNode(this.root, key);\n  }\n\n  removeNode(node, key) {\n    if (node == null) {\n      return undefined;\n    }\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      node.left = this.removeNode(node.left, key);\n      return node;\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      node.right = this.removeNode(node.right, key);\n      return node;\n    }\n    // key is equal to node.item\n    // handle 3 special conditions\n    // 1 - a leaf node\n    // 2 - a node with only 1 child\n    // 3 - a node with 2 children\n    // case 1\n    if (node.left == null && node.right == null) {\n      node = undefined;\n      return node;\n    }\n    // case 2\n    if (node.left == null) {\n      node = node.right;\n      return node;\n    } else if (node.right == null) {\n      node = node.left;\n      return node;\n    }\n    // case 3\n    const aux = this.minNode(node.right);\n    node.key = aux.key;\n    node.right = this.removeNode(node.right, aux.key);\n    return node;\n  }\n}\n")),Object(o.b)("h2",{id:"\u81ea\u5e73\u8861\u6811"},"\u81ea\u5e73\u8861\u6811"),Object(o.b)("p",null,"BST \u5b58\u5728\u4e00\u4e2a\u95ee\u9898\uff1a\u53d6\u51b3\u4e8e\u4f60\u6dfb\u52a0\u7684\u8282\u70b9\u6570\uff0c\u6811\u7684\u4e00\u6761\u8fb9\u53ef\u80fd\u4f1a\u975e\u5e38\u6df1\uff1b\u4e5f\u5c31\u662f\u8bf4\uff0c\u6811\u7684\u4e00\u6761\u5206\u652f\u4f1a\u6709\u5f88\u591a\u5c42\uff0c\u800c\u5176\u4ed6\u7684\u5206\u652f\u5374\u53ea\u6709\u51e0\u5c42\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-binary-search-tree-limitation.svg",alt:"\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u5c40\u9650"}))),Object(o.b)("p",null,"\u8fd9\u4f1a\u5728\u9700\u8981\u5728\u67d0\u6761\u8fb9\u4e0a\u6dfb\u52a0\u3001\u79fb\u9664\u548c\u641c\u7d22\u67d0\u4e2a\u8282\u70b9\u65f6\u5f15\u8d77\u4e00\u4e9b\u6027\u80fd\u95ee\u9898\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c \u6709\u4e00\u79cd\u6811\u53eb\u4f5c Adelson-Velskii-Landi \u6811(AVL \u6811)\u3002AVL \u6811\u662f\u4e00\u79cd\u81ea\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811\uff0c\u610f\u601d\u662f\u4efb\u4f55\u4e00\u4e2a\u8282\u70b9\u5de6\u53f3\u4e24\u4fa7\u5b50\u6811\u7684\u9ad8\u5ea6\u4e4b\u5dee\u6700\u591a\u4e3a 1\u3002"),Object(o.b)("h3",{id:"adelson-velskii-landi-\u6811\uff08avl-\u6811\uff09"},"Adelson-Velskii-Landi \u6811\uff08AVL \u6811\uff09"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"AVL \u6811"),"\u662f\u4e00\u79cd\u81ea\u5e73\u8861\u6811\u3002\u6dfb\u52a0\u6216\u79fb\u9664\u8282\u70b9\u65f6\uff0cAVL \u6811\u4f1a\u5c1d\u8bd5\u4fdd\u6301\u81ea\u5e73\u8861\u3002\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\uff08\u4e0d\u8bba\u6df1\u5ea6\uff09\u7684\u5de6\u5b50\u6811\u548c\u53f3\u5b50\u6811\u9ad8\u5ea6\u6700\u591a\u76f8\u5dee 1\u3002\u6dfb\u52a0\u6216\u79fb\u9664\u8282\u70b9\u65f6\uff0cAVL \u6811\u4f1a\u5c3d\u53ef\u80fd\u5c1d\u8bd5\u8f6c\u6362\u4e3a\u5b8c\u5168\u6811\u3002"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"AVL \u6811\u662f\u4e00\u4e2a BST\uff0c\u6211\u4eec\u53ef\u4ee5\u6269\u5c55 BST \u7c7b\uff0c\u53ea\u9700\u8981\u8986\u76d6\u7528\u6765\u7ef4\u6301 AVL \u6811\u5e73\u8861\u7684\u65b9\u6cd5\uff0c\u4e5f\u5c31\u662f ",Object(o.b)("inlineCode",{parentName:"li"},"insert"),"\u3001",Object(o.b)("inlineCode",{parentName:"li"},"insertNode")," \u548c ",Object(o.b)("inlineCode",{parentName:"li"},"removeNode")," \u65b9\u6cd5\u3002\u6240\u6709\u5176\u4ed6\u7684 BST \u65b9\u6cd5\u5c06\u4f1a\u88ab AVLTree \u7c7b\u7ee7\u627f\u3002"),Object(o.b)("li",{parentName:"ul"},"\u5728 AVL \u6811\u4e2d\u63d2\u5165\u6216\u79fb\u9664\u8282\u70b9\u548c BST \u5b8c\u5168\u76f8\u540c\u3002\u7136\u800c\uff0cAVL \u6811\u7684\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u6211\u4eec\u9700\u8981\u68c0\u9a8c \u5b83\u7684\u5e73\u8861\u56e0\u5b50\uff0c\u5982\u679c\u6709\u9700\u8981\uff0c\u4f1a\u5c06\u5176\u903b\u8f91\u5e94\u7528\u4e8e\u6811\u7684\u81ea\u5e73\u8861\u3002")),Object(o.b)("p",null,"\u521b\u5efa AVLTree \u7c7b\u5f00\u59cb\uff0c\u58f0\u660e\u5982\u4e0b\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"class AVLTree extends BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    super(compareFn);\n    this.compareFn = compareFn;\n    this.root = null;\n  }\n}\n")),Object(o.b)("p",null,"\u65e2\u7136 AVL \u6811\u662f\u4e00\u4e2a BST\uff0c\u6211\u4eec\u53ef\u4ee5\u6269\u5c55\u6211\u4eec\u5199\u7684 BST \u7c7b\uff0c\u53ea\u9700\u8981\u8986\u76d6\u7528\u6765\u7ef4\u6301 AVL \u6811\u5e73\u8861 \u7684\u65b9\u6cd5\uff0c\u4e5f\u5c31\u662f ",Object(o.b)("inlineCode",{parentName:"p"},"insert"),"\u3001",Object(o.b)("inlineCode",{parentName:"p"},"insertNode")," \u548c ",Object(o.b)("inlineCode",{parentName:"p"},"removeNode")," \u65b9\u6cd5\u3002\u5176\u4ed6\u7684 BST \u65b9\u6cd5\u5c06\u4f1a\u88ab AVLTree \u7c7b\u7ee7\u627f\u3002"),Object(o.b)("p",null,"\u5728 AVL \u6811\u4e2d\u63d2\u5165\u6216\u79fb\u9664\u8282\u70b9\u548c BST \u5b8c\u5168\u76f8\u540c\u3002\u7136\u800c\uff0cAVL \u6811\u7684\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u6211\u4eec\u9700\u8981\u68c0\u9a8c\u5b83\u7684",Object(o.b)("strong",{parentName:"p"},"\u5e73\u8861\u56e0\u5b50"),"\uff0c\u5982\u679c\u6709\u9700\u8981\uff0c\u4f1a\u5c06\u5176\u903b\u8f91\u5e94\u7528\u4e8e\u6811\u7684\u81ea\u5e73\u8861\u3002"),Object(o.b)("p",null,"\u9996\u5148\u9700\u8981\u5b66\u4e60 AVL \u6811\u7684\u672f\u8bed\u548c\u5b83\u7684\u65cb\u8f6c\u64cd\u4f5c\uff1a"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"1. \u8282\u70b9\u7684\u9ad8\u5ea6\u548c\u5e73\u8861\u56e0\u5b50")),Object(o.b)("p",null,"\u8282\u70b9\u7684\u9ad8\u5ea6\u662f\u4ece\u8282\u70b9\u5230\u5176\u4efb\u610f\u5b50\u8282\u70b9\u7684\u8fb9\u7684\u6700\u5927\u503c\u3002\u4e0b\u56fe\u5c55\u793a\u4e86\u4e00\u4e2a\u5305\u542b\u6bcf\u4e2a\u8282\u70b9\u9ad8\u5ea6\u7684\u6811\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-avl-height.svg",alt:"AVL \u8282\u70b9\u7684\u9ad8\u5ea6"}))),Object(o.b)("p",null,"\u8ba1\u7b97\u4e00\u4e2a\u8282\u70b9\u9ad8\u5ea6\u7684\u4ee3\u7801\u5982\u4e0b\u3002"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"getNodeHeight(node) {\n  if (node == null) {\n    return -1;\n  }\n  // \u9012\u5f52\u627e\u5230\u6700\u5927\u9ad8\u5ea6\n  return Math.max(this.getNodeHeight(node.left), this.getNodeHeight(node.right)) + 1;\n}\n")),Object(o.b)("p",null,"\u5728 AVL \u6811\u4e2d\uff0c\u9700\u8981\u5bf9\u6bcf\u4e2a\u8282\u70b9\u8ba1\u7b97\u53f3\u5b50\u6811\u9ad8\u5ea6\uff08hr\uff09\u548c\u5de6\u5b50\u6811\u9ad8\u5ea6\uff08hl\uff09\u4e4b\u95f4\u7684\u5dee\u503c\uff0c\u8be5 \u503c(",Object(o.b)("inlineCode",{parentName:"p"},"hr - hl"),")\u5e94\u4e3a ",Object(o.b)("inlineCode",{parentName:"p"},"0"),"\u3001",Object(o.b)("inlineCode",{parentName:"p"},"1")," \u6216 ",Object(o.b)("inlineCode",{parentName:"p"},"-1"),"\u3002\u5982\u679c\u7ed3\u679c\u4e0d\u662f\u8fd9\u4e09\u4e2a\u503c\u4e4b\u4e00\uff0c\u5219\u9700\u8981\u5e73\u8861\u8be5 AVL \u6811\u3002\u8fd9\u5c31\u662f",Object(o.b)("strong",{parentName:"p"},"\u5e73\u8861\u56e0\u5b50"),"\u7684\u6982\u5ff5\u3002"),Object(o.b)("p",null,"\u4e0b\u56fe\u4e3e\u4f8b\u8bf4\u660e\u4e86\u4e00\u4e9b\u6811\u7684\u5e73\u8861\u56e0\u5b50(\u6240\u6709\u7684\u6811\u90fd\u662f\u5e73\u8861\u7684)\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-avl-balance-factor.svg",alt:"AVL \u5e73\u8861\u56e0\u5b50"}))),Object(o.b)("p",null,"\u9075\u5faa\u8ba1\u7b97\u4e00\u4e2a\u8282\u70b9\u7684\u5e73\u8861\u56e0\u5b50\u5e76\u8fd4\u56de\u5176\u503c\u7684\u4ee3\u7801\u5982\u4e0b\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"// \u4e3a\u4e86\u907f\u514d\u76f4\u63a5\u5728\u4ee3\u7801\u4e2d\u5904\u7406\u5e73\u8861\u56e0\u5b50\u7684\u6570\u503c\uff0c\u521b\u5efa\u4e00\u4e2a\u7528\u6765\u4f5c\u4e3a\u8ba1\u6570\u5668\u7684\u5e38\u91cf\nconst BalanceFactor = {\n  UNBALANCED_RIGHT: 1,\n  SLIGHTLY_UNBALANCED_RIGHT: 2,\n  BALANCED: 3,\n  SLIGHTLY_UNBALANCED_LEFT: 4,\n  UNBALANCED_LEFT: 5,\n};\n\ngetBalanceFactor(node) {\n  // left - right\n  const heightDifference = this.getNodeHeight(node.left) - this.getNodeHeight(node.right);\n  switch (heightDifference) {\n    case -2:\n      return BalanceFactor.UNBALANCED_RIGHT;\n    case -1:\n      return BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT;\n    case 1:\n      return BalanceFactor.SLIGHTLY_UNBALANCED_LEFT;\n    case 2:\n      return BalanceFactor.UNBALANCED_LEFT;\n    default:\n      return BalanceFactor.BALANCED;\n  }\n}\n")),Object(o.b)("p",null,"\u4e0b\u9762\u4ecb\u7ecd\u4e0b\u6bcf\u4e2a ",Object(o.b)("inlineCode",{parentName:"p"},"heightDifference")," \u8868\u793a\u4ec0\u4e48\uff1a"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"2. \u5e73\u8861\u64cd\u4f5c\u2014\u2014AVL \u65cb\u8f6c")),Object(o.b)("p",null,"\u5728\u5bf9 AVL \u6811\u6dfb\u52a0\u6216\u79fb\u9664\u8282\u70b9\u540e\uff0c\u6211\u4eec\u8981\u8ba1\u7b97\u8282\u70b9\u7684\u9ad8\u5ea6\u5e76\u9a8c\u8bc1\u6811\u662f\u5426\u9700\u8981\u8fdb\u884c\u5e73\u8861\u3002\u5411 AVL \u6811\u63d2\u5165\u8282\u70b9\u65f6\uff0c\u53ef\u4ee5\u6267\u884c\u5355\u65cb\u8f6c\u6216\u53cc\u65cb\u8f6c\u4e24\u79cd\u5e73\u8861\u64cd\u4f5c\uff0c\u5206\u522b\u5bf9\u5e94\u56db\u79cd\u573a\u666f\uff1a"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"\u5de6\u2014\u2014\u5de6(LL)\uff1a\u5411\u53f3\u7684\u5355\u65cb\u8f6c"),Object(o.b)("li",{parentName:"ul"},"\u53f3\u2014\u2014\u53f3(RR)\uff1a\u5411\u5de6\u7684\u5355\u65cb\u8f6c"),Object(o.b)("li",{parentName:"ul"},"\u5de6\u2014\u2014\u53f3(LR)\uff1a\u5411\u53f3\u7684\u53cc\u65cb\u8f6c\uff08\u5148 LL \u65cb\u8f6c\uff0c\u518d RR \u65cb\u8f6c\uff09"),Object(o.b)("li",{parentName:"ul"},"\u53f3\u2014\u2014\u5de6(RL)\uff1a\u5411\u5de6\u7684\u53cc\u65cb\u8f6c\uff08\u5148 RR \u65cb\u8f6c\uff0c\u518d LL \u65cb\u8f6c\uff09")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"2.1 \u5de6\u2014\u2014\u5de6(LL)\uff1a\u5411\u53f3\u7684\u5355\u65cb\u8f6c\uff1a"),"\u8fd9\u79cd\u60c5\u51b5\u51fa\u73b0\u4e8e\u8282\u70b9\u7684\u5de6\u4fa7\u5b50\u8282\u70b9\u7684\u9ad8\u5ea6\u5927\u4e8e\u53f3\u4fa7\u5b50\u8282\u70b9\u7684\u9ad8\u5ea6\u65f6\uff0c\u5e76\u4e14\u5de6\u4fa7\u5b50\u8282\u70b9\u4e5f\u662f\u5e73 \u8861\u6216\u5de6\u4fa7\u8f83\u91cd\u7684\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-avl-rotate-ll.svg",alt:"AVL \u5411\u53f3\u7684\u5355\u65cb\u8f6c"}))),Object(o.b)("p",null,"\u6765\u770b\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-avl-rotate-ll-sample.svg",alt:"AVL \u5411\u53f3\u7684\u5355\u65cb\u8f6c\u5b9e\u4f8b"}))),Object(o.b)("p",null,"\u5047\u8bbe\u5411 AVL \u6811\u63d2\u5165\u8282\u70b9 5\uff0c\u8fd9\u4f1a\u9020\u6210\u6811\u5931\u8861\uff08\u8282\u70b9 50-Y \u9ad8\u5ea6\u4e3a +2\uff09\uff0c\u9700\u8981\u6062\u590d\u6811\u7684\u5e73\u8861\u3002\u4e0b\u9762\u662f\u6211\u4eec\u6267\u884c\u7684\u64cd\u4f5c:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"\u4e0e\u5e73\u8861\u64cd\u4f5c\u76f8\u5173\u7684\u8282\u70b9\u6709\u4e09\u4e2a(X\u3001Y\u3001Z)\uff0c\u5c06\u8282\u70b9 X \u7f6e\u4e8e\u8282\u70b9 Y\uff08\u5e73\u8861\u56e0\u5b50\u4e3a+2\uff09\u6240\u5728\u7684\u4f4d\u7f6e\uff08\u884c 1\uff09\uff1b"),Object(o.b)("li",{parentName:"ul"},"\u8282\u70b9 X \u7684\u5de6\u5b50\u6811\u4fdd\u6301\u4e0d\u53d8;"),Object(o.b)("li",{parentName:"ul"},"\u5c06\u8282\u70b9 Y \u7684\u5de6\u5b50\u8282\u70b9\u7f6e\u4e3a\u8282\u70b9 X \u7684\u53f3\u5b50\u8282\u70b9 Z\uff08\u884c 2\uff09\uff1b"),Object(o.b)("li",{parentName:"ul"},"\u5c06\u8282\u70b9 X \u7684\u53f3\u5b50\u8282\u70b9\u7f6e\u4e3a\u8282\u70b9 Y\uff08\u884c 3\uff09\u3002")),Object(o.b)("p",null,"\u4e0b\u9762\u7684\u4ee3\u7801\u4e3e\u4f8b\u8bf4\u660e\u4e86\u6574\u4e2a\u8fc7\u7a0b\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"rotationLL(node) {\n  const tmp = node.left; // 1\n  node.left = tmp.right; // 2\n  tmp.right = node; // 3\n  return tmp;\n}\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"2.2 \u53f3\u2014\u2014\u53f3(RR)\uff1a\u5411\u5de6\u7684\u5355\u65cb\u8f6c\uff1a"),"\u8fd9\u79cd\u60c5\u51b5\u548c\u5de6\u2014\u2014\u5de6\u7684\u60c5\u51b5\u76f8\u53cd\u3002\u5b83\u51fa\u73b0\u4e8e\u53f3\u4fa7\u5b50\u8282\u70b9\u7684\u9ad8\u5ea6\u5927\u4e8e\u5de6\u4fa7\u5b50\u8282\u70b9\u7684\u9ad8\u5ea6\uff0c\u5e76\u4e14\n\u53f3\u4fa7\u5b50\u8282\u70b9\u4e5f\u662f\u5e73\u8861\u6216\u53f3\u4fa7\u8f83\u91cd\u7684\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-avl-rotate-rr.svg",alt:"AVL \u5411\u5de6\u7684\u5355\u65cb\u8f6c"}))),Object(o.b)("p",null,"\u6765\u770b\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-avl-rotate-rr-sample.svg",alt:"AVL \u5411\u5de6\u7684\u5355\u65cb\u8f6c\u4f8b\u5b50"}))),Object(o.b)("p",null,"\u5047\u8bbe\u5411 AVL \u6811\u63d2\u5165\u8282\u70b9 90\uff0c\u8fd9\u4f1a\u9020\u6210\u6811\u5931\u8861\uff08\u8282\u70b9 50-Y \u9ad8\u5ea6\u4e3a -2\uff09\uff0c\u56e0\u6b64\u9700\u8981\u6062\u590d\u6811\u7684\u5e73\u8861\u3002\u4e0b\u9762\u662f\u6211\u4eec\u6267\u884c\u7684\u64cd\u4f5c\uff1a"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"\u4e0e\u5e73\u8861\u64cd\u4f5c\u76f8\u5173\u7684\u8282\u70b9\u6709\u4e09\u4e2a(X\u3001Y\u3001Z)\uff0c\u5c06\u8282\u70b9 X \u7f6e\u4e8e\u8282\u70b9 Y\uff08\u5e73\u8861\u56e0\u5b50\u4e3a -2\uff09\u6240\u5728 \u7684\u4f4d\u7f6e\uff08\u884c 1\uff09\uff1b"),Object(o.b)("li",{parentName:"ul"},"\u8282\u70b9 X \u7684\u53f3\u5b50\u6811\u4fdd\u6301\u4e0d\u53d8\uff1b"),Object(o.b)("li",{parentName:"ul"},"\u5c06\u8282\u70b9 Y \u7684\u53f3\u5b50\u8282\u70b9\u7f6e\u4e3a\u8282\u70b9 X \u7684\u5de6\u5b50\u8282\u70b9 Z(\u884c 2)\uff1b"),Object(o.b)("li",{parentName:"ul"},"\u5c06\u8282\u70b9 X \u7684\u5de6\u5b50\u8282\u70b9\u7f6e\u4e3a\u8282\u70b9 Y(\u884c{3})\u3002")),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"function rotationRR(node) {\n  const tmp = node.right; // 1\n  node.right = tmp.left; // 2\n  tmp.left = node; // 3\n  return tmp;\n}\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"2.3 \u5de6\u2014\u2014\u53f3(LR)\uff1a\u5411\u53f3\u7684\u53cc\u65cb\u8f6c\uff1a")," \u8fd9\u79cd\u60c5\u51b5\u51fa\u73b0\u4e8e\u5de6\u4fa7\u5b50\u8282\u70b9\u7684\u9ad8\u5ea6\u5927\u4e8e\u53f3\u4fa7\u5b50\u8282\u70b9\u7684\u9ad8\u5ea6\uff0c\u5e76\u4e14\u5de6\u4fa7\u5b50\u8282\u70b9\u53f3\u4fa7\u8f83\u91cd\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u5de6\u4fa7\u5b50\u8282\u70b9\u8fdb\u884c\u5de6\u65cb\u8f6c\u6765\u4fee\u590d\uff0c\u8fd9\u6837\u4f1a\u5f62\u6210\u5de6\u2014\u2014\u5de6\u7684\u60c5\u51b5\uff0c\u7136\u540e\u518d\u5bf9\u4e0d\u5e73\u8861\u7684\u8282\u70b9\u8fdb\u884c\u4e00\u4e2a\u53f3\u65cb\u8f6c\u6765\u4fee\u590d\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-avl-rotate-lr.svg",alt:"AVL \u5411\u53f3\u7684\u53cc\u65cb\u8f6c"}))),Object(o.b)("p",null,"\u6765\u770b\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-avl-rotate-lr-sample.svg",alt:"AVL \u5411\u53f3\u7684\u53cc\u65cb\u8f6c\u5b9e\u4f8b"}))),Object(o.b)("p",null,"\u5047\u8bbe\u5411 AVL \u6811\u63d2\u5165\u8282\u70b9 75\uff0c\u8fd9\u4f1a\u9020\u6210\u6811\u5931\u8861\uff08\u8282\u70b9 70-Y \u9ad8\u5ea6\u4e3a -2\uff09\uff0c\u9700\u8981\u6062\u590d\u6811\u7684\u5e73\u8861\u3002\u4e0b\u9762\u662f\u6211\u4eec\u6267\u884c\u7684\u64cd\u4f5c\uff1a"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"\u5c06\u8282\u70b9 X \u7f6e\u4e8e\u8282\u70b9 Y\uff08\u5e73\u8861\u56e0\u5b50\u4e3a -2\uff09\u6240\u5728\u7684\u4f4d\u7f6e;"),Object(o.b)("li",{parentName:"ul"},"\u5c06\u8282\u70b9 Z \u7684\u5de6\u5b50\u8282\u70b9\u7f6e\u4e3a\u8282\u70b9 X \u7684\u53f3\u5b50\u8282\u70b9\uff1b"),Object(o.b)("li",{parentName:"ul"},"\u5c06\u8282\u70b9 Y \u7684\u53f3\u5b50\u8282\u70b9\u7f6e\u4e3a\u8282\u70b9 X \u7684\u5de6\u5b50\u8282\u70b9\uff1b"),Object(o.b)("li",{parentName:"ul"},"\u5c06\u8282\u70b9 X \u7684\u53f3\u5b50\u8282\u70b9\u7f6e\u4e3a\u8282\u70b9 Y\uff1b"),Object(o.b)("li",{parentName:"ul"},"\u5c06\u8282\u70b9 X \u7684\u5de6\u5b50\u8282\u70b9\u7f6e\u4e3a\u8282\u70b9 Z\u3002")),Object(o.b)("p",null,"\u57fa\u672c\u4e0a\uff0c\u5c31\u662f\u5148\u505a\u4e00\u6b21 LL \u65cb\u8f6c\uff0c\u518d\u505a\u4e00\u6b21 RR \u65cb\u8f6c\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u4e3e\u4f8b\u8bf4\u660e\u4e86\u6574\u4e2a\u8fc7\u7a0b\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"rotationLR(node) {\n  node.left = this.rotationRR(node.left);\n  return this.rotationLL(node);\n}\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"2.4 \u53f3\u2014\u2014\u5de6(RL)\uff1a\u5411\u5de6\u7684\u53cc\u65cb\u8f6c\uff1a"),"\u8fd9\u79cd\u60c5\u51b5\u548c\u5de6\u2014\u2014\u53f3\u7684\u60c5\u51b5\u76f8\u53cd\u3002\u8fd9\u79cd\u60c5\u51b5\u51fa\u73b0\u4e8e\u53f3\u4fa7\u5b50\u8282\u70b9\u7684\u9ad8\u5ea6\u5927\u4e8e\u5de6\u4fa7\u5b50\u8282\u70b9\u7684\u9ad8\u5ea6\uff0c\u5e76\u4e14\u53f3\u4fa7\u5b50\u8282\u70b9\u5de6\u4fa7\u8f83\u91cd\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u6211\u4eec\u53ef\u4ee5\u5bf9\u53f3\u4fa7\u5b50\u8282\u70b9\u8fdb\u884c\u53f3\u65cb\u8f6c\u6765\u4fee\u590d\uff0c\u8fd9\u6837\u4f1a \u5f62\u6210\u53f3\u2014\u2014\u53f3\u7684\u60c5\u51b5\uff0c\u7136\u540e\u6211\u4eec\u518d\u5bf9\u4e0d\u5e73\u8861\u7684\u8282\u70b9\u8fdb\u884c\u4e00\u4e2a\u5de6\u65cb\u8f6c\u6765\u4fee\u590d\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-avl-rotate-rl.svg",alt:"AVL \u5411\u5de6\u7684\u53cc\u65cb\u8f6c"}))),Object(o.b)("p",null,"\u6765\u770b\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-avl-rotate-rl-sample.svg",alt:"AVL \u5411\u5de6\u7684\u53cc\u65cb\u8f6c\u5b9e\u4f8b"}))),Object(o.b)("p",null,"\u5047\u8bbe\u5411 AVL \u6811\u63d2\u5165\u8282\u70b9 35\uff0c\u8fd9\u4f1a\u9020\u6210\u6811\u5931\u8861(\u8282\u70b9 50-Y \u9ad8\u5ea6\u4e3a +2)\uff0c\u9700\u8981\u6062\u590d\u6811\u7684\u5e73\u8861\u3002\u4e0b\u9762\u662f\u6211\u4eec\u6267\u884c\u7684\u64cd\u4f5c\uff1a"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"\u5c06\u8282\u70b9 X \u7f6e\u4e8e\u8282\u70b9 Y\uff08\u5e73\u8861\u56e0\u5b50\u4e3a +2\uff09\u6240\u5728\u7684\u4f4d\u7f6e\uff1b"),Object(o.b)("li",{parentName:"ul"},"\u5c06\u8282\u70b9 Y \u7684\u5de6\u5b50\u8282\u70b9\u7f6e\u4e3a\u8282\u70b9 X \u7684\u53f3\u5b50\u8282\u70b9\uff1b"),Object(o.b)("li",{parentName:"ul"},"\u5c06\u8282\u70b9 Z \u7684\u53f3\u5b50\u8282\u70b9\u7f6e\u4e3a\u8282\u70b9 X \u7684\u5de6\u5b50\u8282\u70b9\uff1b"),Object(o.b)("li",{parentName:"ul"},"\u5c06\u8282\u70b9 X \u7684\u5de6\u5b50\u8282\u70b9\u7f6e\u4e3a\u8282\u70b9 Y\uff1b"),Object(o.b)("li",{parentName:"ul"},"\u5c06\u8282\u70b9 X \u7684\u53f3\u5b50\u8282\u70b9\u7f6e\u4e3a\u8282\u70b9 Z\u3002")),Object(o.b)("p",null,"\u57fa\u672c\u4e0a\uff0c\u5c31\u662f\u5148\u505a\u4e00\u6b21 RR \u65cb\u8f6c\uff0c\u518d\u505a\u4e00\u6b21 LL \u65cb\u8f6c\u3002 \u4e0b\u9762\u7684\u4ee3\u7801\u4e3e\u4f8b\u8bf4\u660e\u4e86\u6574\u4e2a\u8fc7\u7a0b\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"rotationRL(node) {\n  node.right = this.rotationLL(node.right);\n  return this.rotationRR(node);\n}\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3. \u5411 AVL \u6811\u63d2\u5165\u8282\u70b9")),Object(o.b)("p",null,"\u5411 AVL \u6811\u63d2\u5165\u8282\u70b9\u548c\u5728 BST \u4e2d\u662f\u4e00\u6837\u7684\u3002\u9664\u4e86\u63d2\u5165\u8282\u70b9\u5916\uff0c\u6211\u4eec\u8fd8\u8981\u9a8c\u8bc1\u63d2\u5165\u540e\u6811\u662f\u5426\u8fd8\u662f\u5e73\u8861\u7684\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u5c31\u8981\u8fdb\u884c\u5fc5\u8981\u7684\u65cb\u8f6c\u64cd\u4f5c\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u5411 AVL \u6811\u63d2\u5165\u4e86\u4e00\u4e2a\u65b0\u8282\u70b9\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"insert(key) {\n  this.root = this.insertNode(this.root, key);\n}\n\ninsertNode(node, key) {\n  // \u50cf\u5728 BST \u6811\u4e2d\u4e00\u6837\u63d2\u5165\u8282\u70b9\n  if (node == null) {\n    return new Node(key);\n  } else if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n    node.left = this.insertNode(node.left, key);\n  } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n    node.right = this.insertNode(node.right, key);\n  } else {\n    // \u91cd\u590d\u7684\u952e\n    return node;\n  }\n  // \u5982\u679c\u9700\u8981\uff0c\u5c06\u6811\u8fdb\u884c\u5e73\u8861\u64cd\u4f5c\n  // \u9a8c\u8bc1\u6811\u662f\u5426\u5e73\u8861\uff0c\u7136\u540e\u5bf9\u6bcf\u79cd\u60c5\u51b5\u5e94\u7528\u6b63\u786e\u7684\u65cb\u8f6c\n  const balanceFactor = this.getBalanceFactor(node);\n  if (balanceFactor === BalanceFactor.UNBALANCED_LEFT) {\n    // \u5982\u679c\u5728\u5411\u5de6\u4fa7\u5b50\u6811\u63d2\u5165\u8282\u70b9\u540e\u6811\u4e0d\u5e73\u8861\u4e86\n    // \u9700\u8981\u6bd4\u8f83\u662f\u5426\u63d2\u5165\u7684\u952e\u5c0f\u4e8e\u5de6\u4fa7\u5b50\u8282\u70b9\u7684\u952e\n    if (this.compareFn(key, node.left.key) === Compare.LESS_THAN) {\n      // \u5982\u679c\u662f\uff0c\u6211\u4eec\u8981\u8fdb\u884c LL \u65cb\u8f6c\n      node = this.rotationLL(node);\n    } else {\n      // \u5426\u5219\uff0c\u8981\u8fdb\u884c LR \u65cb\u8f6c\n      return this.rotationLR(node);\n    }\n  }\n  // \u9a8c\u8bc1\u6811\u662f\u5426\u5e73\u8861\uff0c\u7136\u540e\u5bf9\u6bcf\u79cd\u60c5\u51b5\u5e94\u7528\u6b63\u786e\u7684\u65cb\u8f6c\n  if (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) {\n    // \u5982\u679c\u5728\u5411\u53f3\u4fa7\u5b50\u6811\u63d2\u5165\u8282\u70b9\u540e\u6811\u4e0d\u5e73\u8861\u4e86\n    // \u9700\u8981\u6bd4\u8f83\u662f\u5426\u63d2\u5165\u7684\u952e\u5c0f\u4e8e\u53f3\u4fa7\u5b50\u8282\u70b9\u7684\u952e\n    if (this.compareFn(key, node.right.key) === Compare.BIGGER_THAN) {\n      // \u5982\u679c\u662f\uff0c\u6211\u4eec\u8981\u8fdb\u884c RR \u65cb\u8f6c\n      node = this.rotationRR(node);\n    } else {\n      // \u5426\u5219\uff0c\u8981\u8fdb\u884c RL \u65cb\u8f6c\n      return this.rotationRL(node);\n    }\n  }\n  return node;\n}\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"4. \u4ece AVL \u6811\u4e2d\u79fb\u9664\u8282\u70b9")),Object(o.b)("p",null,"\u4ece AVL \u6811\u79fb\u9664\u8282\u70b9\u548c\u5728 BST \u4e2d\u662f\u4e00\u6837\u7684\u3002\u9664\u4e86\u79fb\u9664\u8282\u70b9\u5916\uff0c\u6211\u4eec\u8fd8\u8981\u9a8c\u8bc1\u79fb\u9664\u540e\u6811\u662f\u5426\u8fd8 \u662f\u5e73\u8861\u7684\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u5c31\u8981\u8fdb\u884c\u5fc5\u8981\u7684\u65cb\u8f6c\u64cd\u4f5c\u3002\n\u4e0b\u9762\u7684\u4ee3\u7801\u4ece AVL \u6811\u79fb\u9664\u4e86\u4e00\u4e2a\u8282\u70b9\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"removeNode(node, key) {\n  // \u65e2\u7136 AVLTree \u7c7b\u662f BinarySearchTree \u7c7b\u7684\u5b50\u7c7b\n  // \u5219\u4e5f\u53ef\u4ee5\u4f7f\u7528 BST \u7684 removeNode \u65b9\u6cd5\u6765\u4ece AVL \u6811\u4e2d\u79fb\u9664\u8282\u70b9\n  node = super.removeNode(node, key);\n  if (node == null) {\n    // null\uff0c\u4e0d\u9700\u8981\u8fdb\u884c\u5e73\u8861\n    return node;\n  }\n  // \u68c0\u6d4b\u6811\u662f\u5426\u5e73\u8861\n  // \u4f7f\u7528\u9012\u5f52\u8ba1\u7b97\u4ee5\u6bcf\u4e2a\u79fb\u9664\u7684\u8282\u70b9\u4e3a\u6839\u7684\u8282\u70b9\u7684\u5e73\u8861\u56e0\u5b50\uff0c\u7136\u540e\u9700\u8981\u5bf9\u6bcf\u79cd\u60c5\u51b5\u5e94\u7528\u6b63\u786e\u7684\u65cb\u8f6c\n  const balanceFactor = this.getBalanceFactor(node);\n  if (balanceFactor === BalanceFactor.UNBALANCED_LEFT) {\n    // \u5982\u679c\u5728\u4ece\u5de6\u4fa7\u5b50\u6811\u79fb\u9664\u8282\u70b9\u540e\u6811\u4e0d\u5e73\u8861\u4e86\uff08LL\uff09\n    // \u5982\u679c\u5de6\u4fa7\u5b50\u6811\u5411\u5de6\u4e0d\u5e73\u8861\uff0c\u8981\u8fdb\u884c LL \u65cb\u8f6c\n    // \u8ba1\u7b97\u5de6\u4fa7\u5b50\u6811\u7684\u5e73\u8861\u56e0\u5b50\n    // const balanceFactorLeft = this.getBalanceFactor(node.left);\n    if (\n      this.getBalanceFactor(node.left) === BalanceFactor.BALANCED ||\n      this.getBalanceFactor(node.left) === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT\n    ) {\n      return this.rotationLL(node);\n    }\n    // \u5982\u679c\u5de6\u4fa7\u5b50\u6811\u5411\u53f3\u4e0d\u5e73\u8861\uff0c\u8981\u8fdb\u884c LR \u65cb\u8f6c\n    if (this.getBalanceFactor(node.left) === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT) {\n      return this.rotationLR(node.left);\n    }\n  }\n  if (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) {\n    // \u6700\u540e\u4e00\u79cd\u60c5\u51b5\u662f\uff1a\u5982\u679c\u5728\u4ece\u53f3\u4fa7\u5b50\u6811\u79fb\u9664\u8282\u70b9\u540e\u6811\u4e0d\u5e73\u8861\u4e86\n    // \u5982\u679c\u53f3\u4fa7\u5b50\u6811\u5411\u53f3\u4e0d\u5e73\u8861\uff0c\u8981\u8fdb\u884c RR \u65cb\u8f6c\n    // \u8981\u8ba1\u7b97\u53f3\u4fa7\u5b50\u6811\u7684\u5e73\u8861\u56e0\u5b50\n    // const balanceFactorRight = this.getBalanceFactor(node.right);\n    if (\n      this.getBalanceFactor(node.right) === BalanceFactor.BALANCED ||\n      this.getBalanceFactor(node.right) === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT\n    ) {\n      return this.rotationRR(node);\n    }\n    // \u5982\u679c\u53f3\u4fa7\u5b50\u6811\u5411\u5de6\u4e0d\u5e73\u8861\uff0c\u8981\u8fdb\u884c LR \u65cb\u8f6c\n    if (this.getBalanceFactor(node.right) === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT) {\n      return this.rotationRL(node.right);\n    }\n  }\n  return node;\n}\n")),Object(o.b)("h3",{id:"avl-\u6811\uff08avltree\uff09\u7684\u5b8c\u6574\u5b9e\u73b0"},"AVL \u6811\uff08AVLTree\uff09\u7684\u5b8c\u6574\u5b9e\u73b0"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"// \u901a\u7528\u65b9\u6cd5\u5f15\u5165\nimport { Compare, defaultCompare } from '../util';\nimport BinarySearchTree from './binary-search-tree';\nimport { Node } from './models/node';\n\nconst BalanceFactor = {\n  UNBALANCED_RIGHT: 1,\n  SLIGHTLY_UNBALANCED_RIGHT: 2,\n  BALANCED: 3,\n  SLIGHTLY_UNBALANCED_LEFT: 4,\n  UNBALANCED_LEFT: 5,\n};\n\nclass AVLTree extends BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    super(compareFn);\n    this.compareFn = compareFn;\n    this.root = null;\n  }\n\n  getNodeHeight(node) {\n    if (node == null) {\n      return -1;\n    }\n    return Math.max(this.getNodeHeight(node.left), this.getNodeHeight(node.right)) + 1;\n  }\n\n  /**\n   * Left left case: rotate right\n   *\n   *       b                           a\n   *      / \\                         / \\\n   *     a   e -> rotationLL(b) ->   c   b\n   *    / \\                             / \\\n   *   c   d                           d   e\n   *\n   * @param node Node<T>\n   */\n  rotationLL(node) {\n    const tmp = node.left;\n    node.left = tmp.right;\n    tmp.right = node;\n    return tmp;\n  }\n\n  /**\n   * Right right case: rotate left\n   *\n   *     a                              b\n   *    / \\                            / \\\n   *   c   b   -> rotationRR(a) ->    a   e\n   *      / \\                        / \\\n   *     d   e                      c   d\n   *\n   * @param node Node<T>\n   */\n  rotationRR(node) {\n    const tmp = node.right;\n    node.right = tmp.left;\n    tmp.left = node;\n    return tmp;\n  }\n\n  /**\n   * Left right case: rotate left then right\n   * @param node Node<T>\n   */\n  rotationLR(node) {\n    node.left = this.rotationRR(node.left);\n    return this.rotationLL(node);\n  }\n\n  /**\n   * Right left case: rotate right then left\n   * @param node Node<T>\n   */\n  rotationRL(node) {\n    node.right = this.rotationLL(node.right);\n    return this.rotationRR(node);\n  }\n\n  getBalanceFactor(node) {\n    const heightDifference = this.getNodeHeight(node.left) - this.getNodeHeight(node.right);\n    switch (heightDifference) {\n      case -2:\n        return BalanceFactor.UNBALANCED_RIGHT;\n      case -1:\n        return BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT;\n      case 1:\n        return BalanceFactor.SLIGHTLY_UNBALANCED_LEFT;\n      case 2:\n        return BalanceFactor.UNBALANCED_LEFT;\n      default:\n        return BalanceFactor.BALANCED;\n    }\n  }\n\n  insert(key) {\n    this.root = this.insertNode(this.root, key);\n  }\n\n  insertNode(node, key) {\n    if (node == null) {\n      return new Node(key);\n    } else if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      node.left = this.insertNode(node.left, key);\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      node.right = this.insertNode(node.right, key);\n    } else {\n      return node; // duplicated key\n    }\n    // verify if tree is balanced\n    const balanceFactor = this.getBalanceFactor(node);\n    if (balanceFactor === BalanceFactor.UNBALANCED_LEFT) {\n      if (this.compareFn(key, node.left.key) === Compare.LESS_THAN) {\n        // Left left case\n        node = this.rotationLL(node);\n      } else {\n        // Left right case\n        return this.rotationLR(node);\n      }\n    }\n    if (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) {\n      if (this.compareFn(key, node.right.key) === Compare.BIGGER_THAN) {\n        // Right right case\n        node = this.rotationRR(node);\n      } else {\n        // Right left case\n        return this.rotationRL(node);\n      }\n    }\n    return node;\n  }\n\n  removeNode(node, key) {\n    node = super.removeNode(node, key);\n    if (node == null) {\n      return node;\n    }\n    // verify if tree is balanced\n    const balanceFactor = this.getBalanceFactor(node);\n    if (balanceFactor === BalanceFactor.UNBALANCED_LEFT) {\n      // Left left case\n      if (\n        this.getBalanceFactor(node.left) === BalanceFactor.BALANCED ||\n        this.getBalanceFactor(node.left) === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT\n      ) {\n        return this.rotationLL(node);\n      }\n      // Left right case\n      if (this.getBalanceFactor(node.left) === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT) {\n        return this.rotationLR(node.left);\n      }\n    }\n    if (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) {\n      // Right right case\n      if (\n        this.getBalanceFactor(node.right) === BalanceFactor.BALANCED ||\n        this.getBalanceFactor(node.right) === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT\n      ) {\n        return this.rotationRR(node);\n      }\n      // Right left case\n      if (this.getBalanceFactor(node.right) === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT) {\n        return this.rotationRL(node.right);\n      }\n    }\n    return node;\n  }\n}\n")),Object(o.b)("h2",{id:"\u7ea2\u9ed1\u6811"},"\u7ea2\u9ed1\u6811"),Object(o.b)("p",null,"\u548c AVL \u6811\u4e00\u6837\uff0c",Object(o.b)("strong",{parentName:"p"},"\u7ea2\u9ed1\u6811"),"\u4e5f\u662f\u4e00\u4e2a\u81ea\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811\u3002\u6211\u4eec\u5b66\u4e60\u4e86\u5bf9 AVL \u4e66\u63d2\u5165\u548c\u79fb\u9664\u8282\u70b9 \u53ef\u80fd\u4f1a\u9020\u6210\u65cb\u8f6c\uff0c\u6240\u4ee5\u9700\u8981\u4e00\u4e2a\u5305\u542b\u591a\u6b21\u63d2\u5165\u548c\u5220\u9664\u7684\u81ea\u5e73\u8861\u6811\uff0c\u7ea2\u9ed1\u6811\u662f\u6bd4\u8f83\u597d\u7684\u3002\u5982\u679c\u63d2\u5165\u548c\u5220\u9664\u9891\u7387\u8f83\u4f4e\uff08\u9700\u8981\u591a\u6b21\u8fdb\u884c\u641c\u7d22\u64cd\u4f5c\uff09\uff0c\u90a3\u4e48 AVL \u6811\u6bd4\u7ea2\u9ed1\u6811\u66f4\u597d\u3002"),Object(o.b)("p",null,"\u5728\u7ea2\u9ed1\u6811\u4e2d\uff0c\u6bcf\u4e2a\u8282\u70b9\u90fd\u9075\u5faa\u4ee5\u4e0b\u89c4\u5219\uff1a"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"\u987e\u540d\u601d\u4e49\uff0c\u6bcf\u4e2a\u8282\u70b9\u4e0d\u662f\u7ea2\u7684\u5c31\u662f\u9ed1\u7684\uff1b"),Object(o.b)("li",{parentName:"ol"},"\u6811\u7684\u6839\u8282\u70b9\u662f\u9ed1\u7684\uff1b"),Object(o.b)("li",{parentName:"ol"},"\u6240\u6709\u53f6\u8282\u70b9\u90fd\u662f\u9ed1\u7684\uff08\u7528 NULL \u5f15\u7528\u8868\u793a\u7684\u8282\u70b9\uff09\uff1b"),Object(o.b)("li",{parentName:"ol"},"\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u662f\u7ea2\u7684\uff0c\u90a3\u4e48\u5b83\u7684\u4e24\u4e2a\u5b50\u8282\u70b9\u90fd\u662f\u9ed1\u7684\uff1b"),Object(o.b)("li",{parentName:"ol"},"\u4e0d\u80fd\u6709\u4e24\u4e2a\u76f8\u90bb\u7684\u7ea2\u8282\u70b9\uff0c\u4e00\u4e2a\u7ea2\u8282\u70b9\u4e0d\u80fd\u6709\u7ea2\u7684\u7236\u8282\u70b9\u6216\u5b50\u8282\u70b9\uff1b"),Object(o.b)("li",{parentName:"ol"},"\u4ece\u7ed9\u5b9a\u7684\u8282\u70b9\u5230\u5b83\u7684\u540e\u4ee3\u8282\u70b9(NULL \u53f6\u8282\u70b9)\u7684\u6240\u6709\u8def\u5f84\u5305\u542b\u76f8\u540c\u6570\u91cf\u7684\u9ed1\u8272\u8282\u70b9\u3002")),Object(o.b)("p",null,"\u4ece\u521b\u5efa RedBlackTree \u7c7b\u5f00\u59cb\uff0c\u5982\u4e0b\u6240\u793a\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"class RedBlackTree extends BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    super(compareFn);\n    this.compareFn = compareFn;\n    this.root = null;\n  }\n}\n")),Object(o.b)("p",null,"\u7531\u4e8e\u7ea2\u9ed1\u6811\u4e5f\u662f\u4e8c\u53c9\u641c\u7d22\u6811\uff0c\u53ef\u4ee5\u6269\u5c55\u6211\u4eec\u521b\u5efa\u7684\u4e8c\u53c9\u641c\u7d22\u6811\u7c7b\u5e76\u91cd\u5199\u7ea2\u9ed1\u6811\u5c5e\u6027\u6240\u9700\u8981\u7684\u90a3\u4e9b\u65b9\u6cd5\u3002\u5148\u91cd\u5199 insert \u548c insertNode \u65b9\u6cd5\uff1a"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"\u5411\u7ea2\u9ed1\u6811\u4e2d\u63d2\u5165\u8282\u70b9\uff1a"),"\u5411\u7ea2\u9ed1\u6811\u63d2\u5165\u8282\u70b9\u548c\u5728\u4e8c\u53c9\u641c\u7d22\u6811\u4e2d\u662f\u4e00\u6837\u7684\u3002\u9664\u4e86\u63d2\u5165\u7684\u4ee3\u7801\uff0c\u8fd8\u8981\u5728\u63d2\u5165\u540e\u7ed9\u8282\u70b9\u5e94\u7528\u4e00\u79cd\u989c\u8272\uff0c\u5e76\u4e14\u9a8c\u8bc1\u6811\u662f\u5426\u6ee1\u8db3\u7ea2\u9ed1\u6811\u7684\u6761\u4ef6\u4ee5\u53ca\u662f\u5426\u8fd8\u662f\u81ea\u5e73\u8861\u7684\u3002"),Object(o.b)("p",null,"\u5148\u5b9a\u4e49\u7ea2\u9ed1\u6811\u7684\u8282\u70b9\u7c7b\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"/**\n * \u7ea2\u9ed1\u6811\u8282\u70b9\u7c7b\uff0c\u7ee7\u627f\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u8282\u70b9\u7c7b\n */\n\nclass RedBlackNode extends Node {\n  constructor(key) {\n    super(key);\n    // \u952e\n    this.key = key;\n    // \u9ed8\u8ba4\u8282\u70b9\u4e3a\u7ea2\u8272\n    this.color = Colors.RED;\n    // \u6307\u5411\u7236\u8282\u70b9\u7684\u5f15\u7528\u4e3a null\n    this.parent = null;\n  }\n\n  isRed() {\n    return this.color === Colors.RED;\n  }\n}\n")),Object(o.b)("p",null,"\u4e0b\u9762\u7684\u4ee3\u7801\u5411\u7ea2\u9ed1\u6811\u63d2\u5165\u4e86\u65b0\u7684\u8282\u70b9\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"insert(key) {\n  if (this.root == null) {\n    // 1. \u5982\u679c\u6811\u662f\u7a7a\u7684\n    // \u90a3\u4e48\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u7ea2\u9ed1\u6811\u8282\u70b9\n    this.root = new RedBlackNode(key);\n    // \u4e3a\u4e86\u6ee1\u8db3\u89c4\u5219 2\uff08\u6811\u7684\u6839\u8282\u70b9\u662f\u9ed1\u7684\uff09\n    // \u8981\u5c06\u8fd9\u4e2a\u6839\u8282\u70b9\u7684\u989c\u8272\u8bbe\u4e3a\u9ed1\u8272\n    this.root.color = Colors.BLACK;\n  } else {\n    // 2. \u5982\u679c\u6811\u4e0d\u662f\u7a7a\u7684\n    // \u50cf\u4e8c\u53c9\u641c\u7d22\u6811\u4e00\u6837\u5728\u6b63\u786e\u7684\u4f4d\u7f6e\u63d2\u5165\u8282\u70b9\n    const newNode = this.insertNode(this.root, key);\n    // \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cinsertNode \u65b9\u6cd5\u9700\u8981\u8fd4\u56de\u65b0\u63d2\u5165\u7684\u8282\u70b9\uff0c\n    // \u8fd9\u6837\u53ef\u4ee5\u9a8c\u8bc1\u5728\u63d2\u5165\u540e\uff0c\u7ea2\u9ed1\u6811\u7684\u89c4\u5219\u662f\u5426\u5f97\u5230\u4e86\u6ee1\u8db3\n    this.fixTreeProperties(newNode);\n  }\n}\n\n/**\n * \u91cd\u5199\u7684 insertNode \u65b9\u6cd5\n * \u5bfb\u627e\u6b63\u786e\u7684\u4f4d\u7f6e\u63d2\u5165\u8282\u70b9\n */\ninsertNode(node, key) {\n  // \u903b\u8f91\u548c\u4e8c\u53c9\u641c\u7d22\u6811\u4e2d\u7684\u4e00\u6837\n  if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n    if (node.left == null) {\n      node.left = new RedBlackNode(key);\n      // \u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u4fdd\u5b58\u4e86\u6307\u5411\u88ab\u63d2\u5165\u8282\u70b9\u7236\u8282\u70b9\u7684\u5f15\u7528\n      node.left.parent = node;\n      // \u5e76\u4e14\u8fd4\u56de\u4e86\u8282\u70b9\u7684\u5f15\u7528\n      return node.left;\n    } else {\n      return this.insertNode(node.left, key);\n    }\n  } else if (node.right == null) {\n    node.right = new RedBlackNode(key);\n    // \u4fdd\u5b58\u4e86\u6307\u5411\u88ab\u63d2\u5165\u8282\u70b9\u7236\u8282\u70b9\u7684\u5f15\u7528\n    node.right.parent = node;\n    // \u5e76\u4e14\u8fd4\u56de\u4e86\u8282\u70b9\u7684\u5f15\u7528\n    return node.right;\n  } else {\n    return this.insertNode(node.right, key);\n  }\n}\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"\u5728\u63d2\u5165\u8282\u70b9\u540e\u9a8c\u8bc1\u7ea2\u9ed1\u6811\u5c5e\u6027\uff1a"),"\u8981\u9a8c\u8bc1\u7ea2\u9ed1\u6811\u662f\u5426\u8fd8\u662f\u5e73\u8861\u7684\u4ee5\u53ca\u6ee1\u8db3\u5b83\u7684\u6240\u6709\u8981\u6c42\uff0c\u9700\u8981\u4f7f\u7528\u4e24\u4e2a\u6982\u5ff5\uff1a\u91cd\u65b0\u586b\u8272\u548c\u65cb\u8f6c\u3002"),Object(o.b)("p",null,"\u5728\u5411\u6811\u4e2d\u63d2\u5165\u8282\u70b9\u540e\uff0c\u65b0\u8282\u70b9\u5c06\u4f1a\u662f\u7ea2\u8272\u3002\u8fd9\u4e0d\u4f1a\u5f71\u54cd\u9ed1\u8272\u8282\u70b9\u6570\u91cf\u7684\u89c4\u5219(\u89c4\u5219 6)\uff0c\u4f46 \u4f1a\u5f71\u54cd\u89c4\u5219 5\uff1a\u4e24\u4e2a\u540e\u4ee3\u7ea2\u8282\u70b9\u4e0d\u80fd\u5171\u5b58\u3002\u5982\u679c\u63d2\u5165\u8282\u70b9\u7684\u7236\u8282\u70b9\u662f\u9ed1\u8272\uff0c\u90a3\u6ca1\u6709\u95ee\u9898\u3002\u4f46\u662f\u5982 \u679c\u63d2\u5165\u8282\u70b9\u7684\u7236\u8282\u70b9\u662f\u7ea2\u8272\uff0c\u90a3\u4e48\u4f1a\u8fdd\u53cd\u89c4\u5219 5\u3002\u8981\u89e3\u51b3\u8fd9\u4e2a\u51b2\u7a81\uff0c\u6211\u4eec\u53ea\u9700\u8981\u6539\u53d8",Object(o.b)("strong",{parentName:"p"},"\u7236\u8282\u70b9"),"\u3001",Object(o.b)("strong",{parentName:"p"},"\u7956\u7236\u8282\u70b9"),"\u548c",Object(o.b)("strong",{parentName:"p"},"\u53d4\u8282\u70b9"),"\uff08\u56e0\u4e3a\u540c\u6837\u6539\u53d8\u4e86\u7236\u8282\u70b9\u7684\u989c\u8272\uff09\u3002"),Object(o.b)("p",null,"\u4e0b\u56fe\u63cf\u8ff0\u4e86\u8fd9\u4e2a\u8fc7\u7a0b\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-red-black-fix.svg",alt:"\u7ea2\u9ed1\u6811\u63d2\u5165\u8282\u70b9\u540e\u91cd\u65b0\u586b\u8272"}))),Object(o.b)("p",null,"\u4e0b\u9762\u662f fixTreeProperties \u65b9\u6cd5\u7684\u4ee3\u7801\u3002"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"function fixTreeProperties(node) {\n  // \u4ece\u63d2\u5165\u7684\u8282\u70b9\u5f00\u59cb\uff0c\u6211\u4eec\u8981\u9a8c\u8bc1\u5b83\u7684\u7236\u8282\u70b9\u662f\u5426\u662f\u7ea2\u8272\n  // \u4ee5\u53ca\u8fd9\u4e2a\u8282\u70b9\u662f\u5426\u4e0d\u662f\u9ed1\u8272\n  while (node && node.parent && node.parent.color.isRed() && node.color !== Colors.BLACK) {\n    // \u4e3a\u4e86\u4fdd\u8bc1\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\uff0c\u6211\u4eec\u8981\u4fdd\u5b58\u7236\u8282\u70b9\n    let parent = node.parent;\n    // \u548c\u7956\u7236\u8282\u70b9\u7684\u5f15\u7528\n    const grandParent = parent.parent;\n    // \u63a5\u4e0b\u6765\uff0c\u9700\u8981\u9a8c\u8bc1\u7236\u8282\u70b9\u662f\u5de6\u4fa7\u5b50\u8282\u70b9\uff08\u60c5\u5f62 A\uff09\u8fd8\u662f\u53f3\u4fa7\u5b50\u8282\u70b9\uff08\u60c5\u5f62 B\uff09\n    // \u60c5\u5f62A\uff1a\u7236\u8282\u70b9\u662f\u5de6\u4fa7\u5b50\u8282\u70b9\n    if (grandParent && grandParent.left === parent) {\n      const uncle = grandParent.right; // \u7531\u4e8e\u4e5f\u9700\u8981\u6539\u53d8\u53d4\u8282\u70b9\u7684\u989c\u8272\uff0c\u9700\u8981\u4e00\u4e2a\u6307\u5411\u5b83\u7684\u5f15\u7528\n      // \u5bf9\u4e8e\u60c5\u5f62 1A\uff0c\u53ea\u9700\u8981\u5bf9\u8282\u70b9\u91cd\u65b0\u586b\u8272\uff0c\u7236\u8282\u70b9\u662f\u5de6\u4fa7\u8fd8\u662f\u53f3\u4fa7\u5b50\u8282\u70b9\u6ca1\u6709\u4ec0\u4e48\u5f71\u54cd\n      // \u60c5\u5f621A\uff1a\u53d4\u8282\u70b9\u4e5f\u662f\u7ea2\u8272\u2014\u2014\u53ea\u9700\u8981\u91cd\u65b0\u586b\u8272\n      if (uncle && uncle.color === Colors.RED) {\n        // \u5982\u679c\u53d4\u8282\u70b9\u7684\u989c\u8272\u662f\u7ea2\u8272\uff0c\u5c31\u6539\u53d8\u7956\u7236\u8282\u70b9\u3001\u7236\u8282\u70b9\u548c\u53d4\u8282\u70b9\u7684\u989c\u8272\n        grandParent.color = Colors.RED;\n        parent.color = Colors.BLACK;\n        uncle.color = Colors.BLACK;\n        // \u5e76\u4e14\u5c06\u5f53\u524d\u8282\u70b9\u7684\u5f15\u7528\u6307\u5411\u7956\u7236\u8282\u70b9\uff0c\u7ee7\u7eed\u68c0\u67e5\u6811\u662f\u5426\u6709\u5176\u4ed6\u51b2\u7a81\n        node = grandParent;\n      } else {\n        // \u60c5\u5f62 2A\uff1a\u8282\u70b9\u662f\u53f3\u4fa7\u5b50\u8282\u70b9\u2014\u2014\u5de6\u65cb\u8f6c\n        // \u60c5\u5f62 3A\uff1a\u8282\u70b9\u662f\u5de6\u4fa7\u5b50\u8282\u70b9\u2014\u2014\u53f3\u65cb\u8f6c\n      }\n    } else {\n      // \u60c5\u5f62B\uff1a\u7236\u8282\u70b9\u662f\u53f3\u4fa7\u5b50\u8282\u70b9\n      const uncle = grandParent.left; // \u7531\u4e8e\u4e5f\u9700\u8981\u6539\u53d8\u53d4\u8282\u70b9\u7684\u989c\u8272\uff0c\u9700\u8981\u4e00\u4e2a\u6307\u5411\u5b83\u7684\u5f15\u7528\n      // \u60c5\u5f62 1B\uff1a\u53d4\u8282\u70b9\u662f\u7ea2\u8272\u2014\u2014\u53ea\u9700\u8981\u91cd\u65b0\u586b\u8272\n      if (uncle && uncle.color === Colors.RED) {\n        // \u5982\u679c\u53d4\u8282\u70b9\u7684\u989c\u8272\u662f\u7ea2\u8272\uff0c\u5c31\u6539\u53d8\u7956\u7236\u8282\u70b9\u3001\u7236\u8282\u70b9\u548c\u53d4\u8282\u70b9\u7684\u989c\u8272\n        grandParent.color = Colors.RED;\n        parent.color = Colors.BLACK;\n        uncle.color = Colors.BLACK;\n        node = grandParent;\n      } else {\n        // \u60c5\u5f62 2B\uff1a\u8282\u70b9\u662f\u5de6\u4fa7\u5b50\u8282\u70b9\u2014\u2014\u53f3\u65cb\u8f6c\n        // \u60c5\u5f62 3B\uff1a\u8282\u70b9\u662f\u53f3\u4fa7\u5b50\u8282\u70b9\u2014\u2014\u5de6\u65cb\u8f6c\n      }\n    }\n  }\n  // \u4e3a\u4e86\u4fdd\u8bc1\u6839\u8282\u70b9\u7684\u989c\u8272\u59cb\u7ec8\u662f\u9ed1\u8272\uff08\u89c4\u5219 2\uff09\uff0c\u5728\u4ee3\u7801\u6700\u540e\u8bbe\u7f6e\u6839\u8282\u70b9\u7684\u989c\u8272\n  this.root.color = Colors.BLACK;\n}\n")),Object(o.b)("p",null,"\u5728\u8282\u70b9\u7684\u53d4\u8282\u70b9\u989c\u8272\u4e3a\u9ed1\u65f6\uff0c\u4e5f\u5c31\u662f\u8bf4\u4ec5\u4ec5\u91cd\u65b0\u586b\u8272\u662f\u4e0d\u591f\u7684\uff0c\u6811\u662f\u4e0d\u5e73\u8861\u7684\uff0c\u90a3\u4e48\u9700\u8981\u8fdb\u884c\u65cb\u8f6c\u64cd\u4f5c\u3002"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"\u5de6\u2014\u2014\u5de6\uff08LL\uff09\uff1a\u7236\u8282\u70b9\u662f\u7956\u7236\u8282\u70b9\u7684\u5de6\u4fa7\u5b50\u8282\u70b9\uff0c\u8282\u70b9\u662f\u7236\u8282\u70b9\u7684\u5de6\u4fa7\u5b50\u8282\u70b9\uff08\u60c5\u5f62 3A\uff09\u3002"),Object(o.b)("li",{parentName:"ul"},"\u5de6\u2014\u2014\u53f3\uff08LR\uff09\uff1a\u7236\u8282\u70b9\u662f\u7956\u7236\u8282\u70b9\u7684\u5de6\u4fa7\u5b50\u8282\u70b9\uff0c\u8282\u70b9\u662f\u7236\u8282\u70b9\u7684\u53f3\u4fa7\u5b50\u8282\u70b9\uff08\u60c5\u5f62 2A\uff09\u3002"),Object(o.b)("li",{parentName:"ul"},"\u53f3\u2014\u2014\u53f3\uff08RR\uff09\uff1a\u7236\u8282\u70b9\u662f\u7956\u7236\u8282\u70b9\u7684\u53f3\u4fa7\u5b50\u8282\u70b9\uff0c\u8282\u70b9\u662f\u7236\u8282\u70b9\u7684\u53f3\u4fa7\u5b50\u8282\u70b9\uff08\u60c5\u5f62 2A\uff09\u3002"),Object(o.b)("li",{parentName:"ul"},"\u53f3\u2014\u2014\u5de6\uff08RL\uff09\uff1a\u7236\u8282\u70b9\u662f\u7956\u7236\u8282\u70b9\u7684\u53f3\u4fa7\u5b50\u8282\u70b9\uff0c\u8282\u70b9\u662f\u7236\u8282\u70b9\u7684\u5de6\u4fa7\u5b50\u8282\u70b9\uff08\u60c5\u5f62 2A\uff09\u3002")),Object(o.b)("p",null,"\u6765\u770b\u770b\u60c5\u5f62 2A \u548c 3A\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"// \u60c5\u5f62 2A\uff1a\u8282\u70b9\u662f\u53f3\u4fa7\u5b50\u8282\u70b9\u2014\u2014\u5de6\u65cb\u8f6c\nif (node === parent.right) {\n  // \u5982\u679c\u7236\u8282\u70b9\u662f\u5de6\u4fa7\u5b50\u8282\u70b9\u5e76\u4e14\u8282\u70b9\u662f\u53f3\u4fa7\u5b50\u8282\u70b9\uff0c\u9700\u8981\u8fdb\u884c\u4e24\u6b21\u65cb\u8f6c\uff0c\u9996\u5148\u662f\u53f3\u2014\u2014\u53f3\u65cb\u8f6c\n  this.rotationRR(parent);\n  // \u5e76\u66f4\u65b0\u8282\u70b9\u548c\u7236\u8282\u70b9\u7684\u5f15\u7528\n  node = parent;\n  parent = node.parent;\n}\n// \u60c5\u5f62 3A\uff1a\u8282\u70b9\u662f\u5de6\u4fa7\u5b50\u8282\u70b9\u2014\u2014\u53f3\u65cb\u8f6c\n// \u5728\u7b2c\u4e00\u6b21\u65cb\u8f6c\u540e\uff0c\u8981\u518d\u6b21\u65cb\u8f6c\uff0c\u4ee5\u7956\u7236\u8282\u70b9\u4e3a\u57fa\u51c6\nthis.rotationLL(grandParent);\n// \u5e76\u5728\u65cb\u8f6c\u8fc7\u7a0b\u4e2d\u66f4\u65b0\u7236\u8282\u70b9\u548c\u7956\u7236\u8282\u70b9\u7684\u989c\u8272\nparent.color = Colors.BLACK;\ngrandParent.color = Colors.RED;\n// \u6700\u540e\uff0c\u6211\u4eec\u66f4\u65b0\u5f53\u524d\u8282\u70b9\u7684\u5f15\u7528\uff0c\u4ee5\u4fbf\u7ee7\u7eed\u68c0\u67e5\u6811\u7684\u5176\u4ed6\u51b2\u7a81\nnode = parent;\n")),Object(o.b)("p",null,"\u60c5\u5f62 2A \u5982\u4e0b\u56fe\u6240\u793a\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-red-black-2a.svg",alt:"\u60c5\u5f62 2A \u56fe"}))),Object(o.b)("p",null,"\u8282\u70b9\u662f\u5de6\u4fa7\u5b50\u8282\u70b9\u65f6\uff0c\u76f4\u63a5\u8df3\u8fc7 2A \u5230 3A \u8fdb\u884c\u5de6\u2014\u2014\u5de6\u65cb\u8f6c\u3002\u60c5\u5f62 3A \u5982\u4e0b\u56fe\u6240\u793a\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-red-black-3a.svg",alt:"\u60c5\u5f62 3A \u56fe"}))),Object(o.b)("p",null,"\u73b0\u5728\uff0c\u6765\u770b\u770b\u60c5\u5f62 2B \u548c 3B\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"// \u60c5\u5f62 2B\uff1a\u8282\u70b9\u662f\u5de6\u4fa7\u5b50\u8282\u70b9\u2014\u2014\u5de6\u65cb\u8f6c\nif (node === parent.left) {\n  // \u5148\u8fdb\u884c\u5de6\u2014\u2014\u5de6\u65cb\u8f6c\n  this.rotationLL(parent);\n  node = parent;\n  parent = node.parent;\n}\n// \u60c5\u5f62 3B\uff1a\u8282\u70b9\u662f\u53f3\u4fa7\u5b50\u8282\u70b9\u2014\u2014\u5de6\u65cb\u8f6c\n// \u518d\u8fdb\u884c\u53f3\u2014\u2014\u53f3\u65cb\u8f6c\nthis.rotationRR(grandParent);\nparent.color = Colors.BLACK;\ngrandParent.color = Colors.RED;\nnode = parent;\n")),Object(o.b)("p",null,"\u903b\u8f91\u662f\u4e00\u6837\u7684\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u9009\u62e9\u4f1a\u8fd9\u6837\u8fdb\u884c\uff1a\u5148\u8fdb\u884c\u5de6\u2014\u2014\u5de6\u65cb\u8f6c\uff0c\u518d\u8fdb\u884c\u53f3\u2014\u2014\u53f3\u65cb\u8f6c\u3002\u60c5\u5f62 2B \u5982\u4e0b\u56fe\u6240\u793a\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-red-black-2b.svg",alt:"\u60c5\u5f62 2B \u56fe"}))),Object(o.b)("p",null,"\u6700\u540e\uff0c\u60c5\u5f62 3B \u5982\u4e0b\u56fe\u6240\u793a\uff1a"),Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"/img/tree-red-black-3b.svg",alt:"\u60c5\u5f62 3B \u56fe"}))),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"\u7ea2\u9ed1\u6811\u65cb\u8f6c\uff1a"),"\u5728\u63d2\u5165\u7b97\u6cd5\u4e2d\uff0c\u53ea\u4f7f\u7528\u4e86\u53f3\u2014\u2014\u53f3\u65cb\u8f6c\u548c\u5de6\u2014\u2014\u5de6\u65cb\u8f6c\u3002\u903b\u8f91\u548c AVL \u6811\u662f\u4e00\u6837\uff0c\u4f46\u662f\uff0c\u7531\u4e8e\u6211\u4eec\u4fdd\u5b58\u4e86\u7236\u8282\u70b9\u7684\u5f15\u7528\uff0c\u9700\u8981\u5c06\u5f15\u7528\u66f4\u65b0\u4e3a\u65cb\u8f6c\u540e\u7684\u65b0\u7236\u8282\u70b9\u3002"),Object(o.b)("p",null,"\u5de6\u2014\u2014\u5de6\u65cb\u8f6c(\u53f3\u65cb\u8f6c)\u7684\u4ee3\u7801\u5982\u4e0b\uff08\u66f4\u65b0\u7236\u8282\u70b9\u9ad8\u4eae\u663e\u793a\uff09\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js",metastring:"{5,7-9,12,14,18}","{5,7-9,12,14,18}":!0}),"rotationLL(node) {\n  const tmp = node.left;\n  node.left = tmp.right;\n  if (tmp.right && tmp.right.key) {\n    tmp.right.parent = node;\n  }\n  tmp.parent = node.parent;\n  if (!node.parent) {\n    this.root = tmp;\n  } else {\n    if (node === node.parent.left) {\n      node.parent.left = tmp;\n    } else {\n      node.parent.right = tmp;\n    }\n  }\n  tmp.right = node;\n  node.parent = tmp;\n}\n")),Object(o.b)("p",null,"\u53f3\u2014\u2014\u53f3\u65cb\u8f6c(\u5de6\u65cb\u8f6c)\u7684\u4ee3\u7801\u5982\u4e0b\uff08\u66f4\u65b0\u7236\u8282\u70b9\u9ad8\u4eae\u663e\u793a\uff09\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js",metastring:"{5,7-9,12,14,18}","{5,7-9,12,14,18}":!0}),"rotationRR(node) {\n  const tmp = node.right;\n  node.right = tmp.left;\n  if (tmp.left && tmp.left.key) {\n    tmp.left.parent = node;\n  }\n  tmp.parent = node.parent;\n  if (!node.parent) {\n    this.root = tmp;\n  } else {\n    if (node === node.parent.left) {\n      node.parent.left = tmp;\n    } else {\n      node.parent.right = tmp;\n    }\n  }\n  tmp.left = node;\n  node.parent = tmp;\n}\n")),Object(o.b)("h3",{id:"\u7ea2\u9ed1\u6811\uff08redblacktree\uff09\u7684\u5b8c\u6574\u5b9e\u73b0"},"\u7ea2\u9ed1\u6811\uff08RedBlackTree\uff09\u7684\u5b8c\u6574\u5b9e\u73b0"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-typescript",metastring:"title={../utils.ts}",title:"{../utils.ts}"}),"export type ICompareFunction<T> = (a: T, b: T) => number;\n\nexport enum Compare {\n  LESS_THAN = -1,\n  BIGGER_THAN = 1,\n  EQUALS = 0,\n}\n\nexport function defaultCompare<T>(a: T, b: T): number {\n  if (a === b) {\n    return Compare.EQUALS;\n  }\n  return a < b ? Compare.LESS_THAN : Compare.BIGGER_THAN;\n}\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-typescript",metastring:'title="./red-black-node.ts"',title:'"./red-black-node.ts"'}),"import { Node } from './node';\n\nexport enum Colors {\n  RED = 0,\n  BLACK = 1,\n}\n\nexport class RedBlackNode<K> extends Node<K> {\n  left: RedBlackNode<K>;\n  right: RedBlackNode<K>;\n  parent: RedBlackNode<K>;\n  color: Colors;\n\n  constructor(public key: K) {\n    super(key);\n    this.color = Colors.RED;\n  }\n\n  isRed() {\n    return this.color === Colors.RED;\n  }\n\n  flipColor() {\n    if (this.color === Colors.RED) {\n      this.color = Colors.BLACK;\n    } else {\n      this.color = Colors.RED;\n    }\n  }\n}\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-typescript",metastring:'title="./RedBlackTree.ts"',title:'"./RedBlackTree.ts"'}),"import { defaultCompare, ICompareFunction, Compare } from '../util';\n// \u4e8c\u53c9\u641c\u7d22\u6811\u7c7b\nimport BinarySearchTree from './binary-search-tree';\nimport { RedBlackNode, Colors } from './red-black-node';\n\nexport default class RedBlackTree<T> extends BinarySearchTree<T> {\n  protected root: RedBlackNode<T>;\n\n  constructor(protected compareFn: ICompareFunction<T> = defaultCompare) {\n    super(compareFn);\n  }\n\n  /**\n   * Left left case: rotate right\n   *\n   *       b                           a\n   *      / \\                         / \\\n   *     a   e -> rotationLL(b) ->   c   b\n   *    / \\                             / \\\n   *   c   d                           d   e\n   *\n   * @param node Node<T>\n   */\n  private rotationLL(node: RedBlackNode<T>) {\n    const tmp = node.left;\n    node.left = tmp.right;\n    if (tmp.right && tmp.right.key) {\n      tmp.right.parent = node;\n    }\n    tmp.parent = node.parent;\n    if (!node.parent) {\n      this.root = tmp;\n    } else {\n      if (node === node.parent.left) {\n        node.parent.left = tmp;\n      } else {\n        node.parent.right = tmp;\n      }\n    }\n    tmp.right = node;\n    node.parent = tmp;\n  }\n\n  /**\n   * Right right case: rotate left\n   *\n   *     a                              b\n   *    / \\                            / \\\n   *   c   b   -> rotationRR(a) ->    a   e\n   *      / \\                        / \\\n   *     d   e                      c   d\n   *\n   * @param node Node<T>\n   */\n  private rotationRR(node: RedBlackNode<T>) {\n    const tmp = node.right;\n    node.right = tmp.left;\n    if (tmp.left && tmp.left.key) {\n      tmp.left.parent = node;\n    }\n    tmp.parent = node.parent;\n    if (!node.parent) {\n      this.root = tmp;\n    } else {\n      if (node === node.parent.left) {\n        node.parent.left = tmp;\n      } else {\n        node.parent.right = tmp;\n      }\n    }\n    tmp.left = node;\n    node.parent = tmp;\n  }\n\n  insert(key: T) {\n    // special case: first key\n    if (this.root == null) {\n      this.root = new RedBlackNode(key);\n      this.root.color = Colors.BLACK;\n    } else {\n      const newNode = this.insertNode(this.root, key);\n      this.fixTreeProperties(newNode);\n    }\n  }\n\n  protected insertNode(node: RedBlackNode<T>, key: T): RedBlackNode<T> {\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      if (node.left == null) {\n        node.left = new RedBlackNode(key);\n        node.left.parent = node;\n        return node.left;\n      } else {\n        return this.insertNode(node.left, key);\n      }\n    } else if (node.right == null) {\n      node.right = new RedBlackNode(key);\n      node.right.parent = node;\n      return node.right;\n    } else {\n      return this.insertNode(node.right, key);\n    }\n  }\n\n  private fixTreeProperties(node: RedBlackNode<T>) {\n    while (node && node.parent && node.parent.color === Colors.RED && node.color !== Colors.BLACK) {\n      let parent = node.parent;\n      const grandParent = parent.parent;\n\n      // case A\n      if (grandParent && grandParent.left === parent) {\n        const uncle = grandParent.right;\n\n        // case 1: uncle of node is also red - only recoloring\n        if (uncle && uncle.color === Colors.RED) {\n          grandParent.color = Colors.RED;\n          parent.color = Colors.BLACK;\n          uncle.color = Colors.BLACK;\n          node = grandParent;\n        } else {\n          // case 2: node is right child - left rotate\n          if (node === parent.right) {\n            this.rotationRR(parent);\n            node = parent;\n            parent = node.parent;\n          }\n\n          // case 3: node is left child - right rotate\n          this.rotationLL(grandParent);\n          // swap color\n          parent.color = Colors.BLACK;\n          grandParent.color = Colors.RED;\n          node = parent;\n        }\n      } else {\n        // case B: parent is right child of grand parent\n\n        const uncle = grandParent.left;\n\n        // case 1: uncle is read - only recoloring\n        if (uncle && uncle.color === Colors.RED) {\n          grandParent.color = Colors.RED;\n          parent.color = Colors.BLACK;\n          uncle.color = Colors.BLACK;\n          node = grandParent;\n        } else {\n          // case 2: node is left child - left rotate\n          if (node === parent.left) {\n            this.rotationLL(parent);\n            node = parent;\n            parent = node.parent;\n          }\n\n          // case 3: node is right child - left rotate\n          this.rotationRR(grandParent);\n          // swap color\n          parent.color = Colors.BLACK;\n          grandParent.color = Colors.RED;\n          node = parent;\n        }\n      }\n    }\n    this.root.color = Colors.BLACK;\n  }\n\n  getRoot() {\n    return this.root;\n  }\n\n  /* private flipColors(node: RedBlackNode<T>) {\n    node.left.flipColor();\n    node.right.flipColor();\n  }\n\n  private isRed(node: RedBlackNode<T>) {\n    if (!node) {\n      return false;\n    }\n    return node.isRed();\n  }*/\n}\n")))}b.isMDXComponent=!0},220:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return m}));var r=t(0),a=t.n(r);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var d=a.a.createContext({}),b=function(e){var n=a.a.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):c({},n,{},e)),t},s=function(e){var n=b(e.components);return a.a.createElement(d.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},u=Object(r.forwardRef)((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),s=b(t),u=r,m=s["".concat(l,".").concat(u)]||s[u]||p[u]||o;return t?a.a.createElement(m,c({ref:n},d,{components:t})):a.a.createElement(m,c({ref:n},d))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,l=new Array(o);l[0]=u;var c={};for(var i in n)hasOwnProperty.call(n,i)&&(c[i]=n[i]);c.originalType=e,c.mdxType="string"==typeof e?e:r,l[1]=c;for(var d=2;d<o;d++)l[d]=t[d];return a.a.createElement.apply(null,l)}return a.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);